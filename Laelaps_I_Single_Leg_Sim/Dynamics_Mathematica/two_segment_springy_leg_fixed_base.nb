(* Content-type: application/vnd.wolfram.mathematica *)

(*** Wolfram Notebook File ***)
(* http://www.wolfram.com/nb *)

(* CreatedBy='Mathematica 9.0' *)

(*CacheID: 234*)
(* Internal cache information:
NotebookFileLineBreakTest
NotebookFileLineBreakTest
NotebookDataPosition[       157,          7]
NotebookDataLength[    136884,       3911]
NotebookOptionsPosition[    129004,       3642]
NotebookOutlinePosition[    129348,       3657]
CellTagsIndexPosition[    129305,       3654]
WindowFrame->Normal*)

(* Beginning of Notebook Content *)
Notebook[{

Cell[CellGroupData[{
Cell["Two segment springy leg with fixed base", "Title",
 CellChangeTimes->{{3.6292674494199247`*^9, 3.629267466613556*^9}, {
  3.6719525014040985`*^9, 3.671952512297177*^9}}],

Cell[CellGroupData[{

Cell["Load Packages", "Subsection",
 CellChangeTimes->{{3.629267414882654*^9, 3.629267432155285*^9}}],

Cell[BoxData[
 RowBox[{"<<", "ToMatlab.m"}]], "Input"]
}, Closed]],

Cell[CellGroupData[{

Cell["Model", "Subsection",
 CellChangeTimes->{{3.6240299490000153`*^9, 3.62402995018882*^9}}],

Cell["\<\
- two segment springy leg with mass and inertia
- torques at hip and knee joints 
- forces from the ground \
\>", "Text",
 CellChangeTimes->{{3.624030113123578*^9, 3.624030189366426*^9}, {
  3.6257518922660418`*^9, 3.625751926525426*^9}, {3.6292647758275805`*^9, 
  3.6292647925729804`*^9}, {3.631373086971054*^9, 3.631373092096212*^9}, {
  3.6719526780996585`*^9, 3.671952697115632*^9}}]
}, Closed]],

Cell[CellGroupData[{

Cell["Generalized Coordinates", "Subsection",
 CellChangeTimes->{{3.6240299641209035`*^9, 3.6240299959006987`*^9}}],

Cell["\<\
th1, th2, l
th1, th2:  absolute angles\
\>", "Text",
 CellChangeTimes->{{3.6240300152988048`*^9, 3.624030079465598*^9}, {
  3.6247072445573874`*^9, 3.6247072590030127`*^9}, {3.624707320658321*^9, 
  3.6247073233571253`*^9}, {3.624707722269828*^9, 3.6247077575122895`*^9}, {
  3.6247113839420943`*^9, 3.624711393333311*^9}, {3.6251172071821575`*^9, 
  3.6251172276322126`*^9}, {3.625752413891927*^9, 3.625752469355566*^9}, {
  3.629264807963355*^9, 3.629264837129199*^9}, {3.671952705059809*^9, 
  3.6719527207239122`*^9}}]
}, Closed]],

Cell[CellGroupData[{

Cell["Useful Expressions", "Subsection",
 CellChangeTimes->{{3.62403066298301*^9, 3.6240306755144787`*^9}, {
  3.6247073881002398`*^9, 3.624707395510253*^9}}],

Cell[TextData[StyleBox["Foot coords:",
 FontWeight->"Bold"]], "Text",
 CellChangeTimes->{{3.624029084521487*^9, 3.6240291085679965`*^9}, {
   3.6247082866902204`*^9, 3.624708295645636*^9}, 3.6719541325952435`*^9}],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{"xf", "=", 
  RowBox[{
   RowBox[{"2", "d1", " ", 
    RowBox[{"Sin", "[", 
     RowBox[{"th1", "[", "t", "]"}], "]"}]}], "+", 
   RowBox[{
    RowBox[{"(", 
     RowBox[{"d2", "+", 
      RowBox[{"l", "[", "t", "]"}], "+", "d3"}], ")"}], 
    RowBox[{"Sin", "[", 
     RowBox[{"th2", "[", "t", "]"}], "]"}]}]}]}], "\[IndentingNewLine]", 
 RowBox[{"yf", "=", 
  RowBox[{
   RowBox[{
    RowBox[{"-", "2"}], "d1", " ", 
    RowBox[{"Cos", "[", 
     RowBox[{"th1", "[", "t", "]"}], "]"}]}], "-", 
   RowBox[{
    RowBox[{"(", 
     RowBox[{"d2", "+", 
      RowBox[{"l", "[", "t", "]"}], "+", "d3"}], ")"}], 
    RowBox[{"Cos", "[", 
     RowBox[{"th2", "[", "t", "]"}], "]"}]}]}]}]}], "Input",
 CellChangeTimes->{{3.6240291130868144`*^9, 3.6240292106770563`*^9}, {
   3.624032552251154*^9, 3.624032567817641*^9}, {3.6247074152930875`*^9, 
   3.624707470815585*^9}, {3.624707780897731*^9, 3.624707827091412*^9}, {
   3.624707861787873*^9, 3.6247079246745834`*^9}, {3.6247080002129164`*^9, 
   3.6247080478750005`*^9}, {3.6247080793568554`*^9, 
   3.6247081174541225`*^9}, {3.6247084487513056`*^9, 
   3.6247084692673416`*^9}, {3.6247891734079094`*^9, 3.624789187329134*^9}, {
   3.6248185249612446`*^9, 3.6248185403428717`*^9}, {3.6250777834318495`*^9, 
   3.625077784705922*^9}, 3.6257524521090393`*^9, {3.625752483149929*^9, 
   3.625752487458064*^9}, {3.6257525852227745`*^9, 3.625752641727294*^9}, {
   3.6292648534806695`*^9, 3.6292648883406253`*^9}, {3.6719527428055973`*^9, 
   3.67195288244269*^9}, {3.672031138376831*^9, 3.6720311644963245`*^9}}],

Cell[BoxData[
 RowBox[{
  RowBox[{"2", " ", "d1", " ", 
   RowBox[{"Sin", "[", 
    RowBox[{"th1", "[", "t", "]"}], "]"}]}], "+", 
  RowBox[{
   RowBox[{"(", 
    RowBox[{"d2", "+", "d3", "+", 
     RowBox[{"l", "[", "t", "]"}]}], ")"}], " ", 
   RowBox[{"Sin", "[", 
    RowBox[{"th2", "[", "t", "]"}], "]"}]}]}]], "Output",
 CellChangeTimes->{
  3.6719541437297783`*^9, 3.6719563930569515`*^9, 3.6719634426657076`*^9, 
   3.6719634996654987`*^9, 3.671963591954417*^9, 3.6719653772748528`*^9, 
   3.67196595651013*^9, 3.67196651323781*^9, {3.6719862932249312`*^9, 
   3.6719863110312757`*^9}, 3.672031447739526*^9}],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"-", "2"}], " ", "d1", " ", 
   RowBox[{"Cos", "[", 
    RowBox[{"th1", "[", "t", "]"}], "]"}]}], "-", 
  RowBox[{
   RowBox[{"Cos", "[", 
    RowBox[{"th2", "[", "t", "]"}], "]"}], " ", 
   RowBox[{"(", 
    RowBox[{"d2", "+", "d3", "+", 
     RowBox[{"l", "[", "t", "]"}]}], ")"}]}]}]], "Output",
 CellChangeTimes->{
  3.6719541437297783`*^9, 3.6719563930569515`*^9, 3.6719634426657076`*^9, 
   3.6719634996654987`*^9, 3.671963591954417*^9, 3.6719653772748528`*^9, 
   3.67196595651013*^9, 3.67196651323781*^9, {3.6719862932249312`*^9, 
   3.6719863110312757`*^9}, 3.6720314477415257`*^9}]
}, Open  ]],

Cell[TextData[StyleBox["Foot velocities:",
 FontWeight->"Bold"]], "Text",
 CellChangeTimes->{{3.6247086565224705`*^9, 3.624708670905696*^9}, {
  3.624708786303424*^9, 3.624708834391709*^9}}],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{"xfdot", "=", 
  RowBox[{"D", "[", 
   RowBox[{"xf", ",", "t"}], "]"}]}], "\[IndentingNewLine]", 
 RowBox[{"yfdot", "=", 
  RowBox[{"D", "[", 
   RowBox[{"yf", ",", "t"}], "]"}]}]}], "Input",
 CellChangeTimes->{{3.624708837372314*^9, 3.6247089756689577`*^9}, {
  3.625752707693268*^9, 3.625752726041733*^9}, {3.629264918489458*^9, 
  3.6292649264096823`*^9}}],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"Sin", "[", 
    RowBox[{"th2", "[", "t", "]"}], "]"}], " ", 
   RowBox[{
    SuperscriptBox["l", "\[Prime]",
     MultilineFunction->None], "[", "t", "]"}]}], "+", 
  RowBox[{"2", " ", "d1", " ", 
   RowBox[{"Cos", "[", 
    RowBox[{"th1", "[", "t", "]"}], "]"}], " ", 
   RowBox[{
    SuperscriptBox["th1", "\[Prime]",
     MultilineFunction->None], "[", "t", "]"}]}], "+", 
  RowBox[{
   RowBox[{"Cos", "[", 
    RowBox[{"th2", "[", "t", "]"}], "]"}], " ", 
   RowBox[{"(", 
    RowBox[{"d2", "+", "d3", "+", 
     RowBox[{"l", "[", "t", "]"}]}], ")"}], " ", 
   RowBox[{
    SuperscriptBox["th2", "\[Prime]",
     MultilineFunction->None], "[", "t", "]"}]}]}]], "Output",
 CellChangeTimes->{
  3.671954159980854*^9, 3.6719563930776453`*^9, 3.6719634426858683`*^9, 
   3.671963499685819*^9, 3.671963591976898*^9, 3.6719653772987394`*^9, 
   3.6719659565570035`*^9, 3.671966513253435*^9, {3.6719862932409487`*^9, 
   3.6719863110413103`*^9}, 3.6720314477605267`*^9}],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"-", 
    RowBox[{"Cos", "[", 
     RowBox[{"th2", "[", "t", "]"}], "]"}]}], " ", 
   RowBox[{
    SuperscriptBox["l", "\[Prime]",
     MultilineFunction->None], "[", "t", "]"}]}], "+", 
  RowBox[{"2", " ", "d1", " ", 
   RowBox[{"Sin", "[", 
    RowBox[{"th1", "[", "t", "]"}], "]"}], " ", 
   RowBox[{
    SuperscriptBox["th1", "\[Prime]",
     MultilineFunction->None], "[", "t", "]"}]}], "+", 
  RowBox[{
   RowBox[{"(", 
    RowBox[{"d2", "+", "d3", "+", 
     RowBox[{"l", "[", "t", "]"}]}], ")"}], " ", 
   RowBox[{"Sin", "[", 
    RowBox[{"th2", "[", "t", "]"}], "]"}], " ", 
   RowBox[{
    SuperscriptBox["th2", "\[Prime]",
     MultilineFunction->None], "[", "t", "]"}]}]}]], "Output",
 CellChangeTimes->{
  3.671954159980854*^9, 3.6719563930776453`*^9, 3.6719634426858683`*^9, 
   3.671963499685819*^9, 3.671963591976898*^9, 3.6719653772987394`*^9, 
   3.6719659565570035`*^9, 3.671966513253435*^9, {3.6719862932409487`*^9, 
   3.6719863110413103`*^9}, 3.672031447763527*^9}]
}, Open  ]],

Cell[TextData[StyleBox["Segment 1 COM coords",
 FontWeight->"Bold"]], "Text",
 CellChangeTimes->{{3.625752860737359*^9, 3.625752877369768*^9}, {
  3.625752929144995*^9, 3.6257529453014083`*^9}, {3.671952937156045*^9, 
  3.671952942092848*^9}}],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{"x1", "=", 
  RowBox[{"d1", " ", 
   RowBox[{"Sin", "[", 
    RowBox[{"th1", "[", "t", "]"}], "]"}]}]}], "\[IndentingNewLine]", 
 RowBox[{"y1", "=", 
  RowBox[{
   RowBox[{"-", "d1"}], " ", 
   RowBox[{"Cos", "[", 
    RowBox[{"th1", "[", "t", "]"}], "]"}]}]}]}], "Input",
 CellChangeTimes->{{3.625752953667601*^9, 3.6257529917234793`*^9}, {
   3.625753058518072*^9, 3.625753065287228*^9}, {3.6257531275666924`*^9, 
   3.625753166445636*^9}, {3.629264940720087*^9, 3.6292649982877545`*^9}, {
   3.6719529498862405`*^9, 3.6719530073853655`*^9}, 3.67195438119151*^9, {
   3.672031169896634*^9, 3.6720311745629005`*^9}}],

Cell[BoxData[
 RowBox[{"d1", " ", 
  RowBox[{"Sin", "[", 
   RowBox[{"th1", "[", "t", "]"}], "]"}]}]], "Output",
 CellChangeTimes->{{3.6719862830674343`*^9, 3.671986311056325*^9}, 
   3.6720314477765274`*^9}],

Cell[BoxData[
 RowBox[{
  RowBox[{"-", "d1"}], " ", 
  RowBox[{"Cos", "[", 
   RowBox[{"th1", "[", "t", "]"}], "]"}]}]], "Output",
 CellChangeTimes->{{3.6719862830674343`*^9, 3.671986311056325*^9}, 
   3.6720314477785273`*^9}]
}, Open  ]],

Cell[TextData[StyleBox["Segment 2 COM coords",
 FontWeight->"Bold"]], "Text",
 CellChangeTimes->{{3.625752860737359*^9, 3.625752877369768*^9}, {
   3.625752929144995*^9, 3.6257529453014083`*^9}, {3.671952937156045*^9, 
   3.671952942092848*^9}, 3.671953056028483*^9}],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{"x2", "=", 
  RowBox[{
   RowBox[{"2", "d1", " ", 
    RowBox[{"Sin", "[", 
     RowBox[{"th1", "[", "t", "]"}], "]"}]}], "+", 
   RowBox[{"d2", " ", 
    RowBox[{"Sin", "[", 
     RowBox[{"th2", "[", "t", "]"}], "]"}]}]}]}], "\[IndentingNewLine]", 
 RowBox[{"y2", "=", 
  RowBox[{
   RowBox[{
    RowBox[{"-", "2"}], "d1", " ", 
    RowBox[{"Cos", "[", 
     RowBox[{"th1", "[", "t", "]"}], "]"}]}], "-", 
   RowBox[{"d2", " ", 
    RowBox[{"Cos", "[", 
     RowBox[{"th2", "[", "t", "]"}], "]"}]}]}]}]}], "Input",
 CellChangeTimes->{{3.625752953667601*^9, 3.6257529917234793`*^9}, {
  3.625753058518072*^9, 3.625753065287228*^9}, {3.6257531275666924`*^9, 
  3.625753166445636*^9}, {3.629264940720087*^9, 3.6292649982877545`*^9}, {
  3.6719529498862405`*^9, 3.6719530073853655`*^9}, {3.6719530609903584`*^9, 
  3.6719530880381002`*^9}, {3.6719533042058415`*^9, 3.671953317269898*^9}, {
  3.672031182104332*^9, 3.6720312062917156`*^9}}],

Cell[BoxData[
 RowBox[{
  RowBox[{"2", " ", "d1", " ", 
   RowBox[{"Sin", "[", 
    RowBox[{"th1", "[", "t", "]"}], "]"}]}], "+", 
  RowBox[{"d2", " ", 
   RowBox[{"Sin", "[", 
    RowBox[{"th2", "[", "t", "]"}], "]"}]}]}]], "Output",
 CellChangeTimes->{
  3.671954179328288*^9, 3.6719563931073503`*^9, 3.671963442714052*^9, 
   3.6719634997093716`*^9, 3.6719635919858847`*^9, 3.671965377331514*^9, 
   3.671965956579147*^9, 3.6719665132690597`*^9, {3.671986293270974*^9, 
   3.6719863110703382`*^9}, 3.672031447792528*^9}],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"-", "2"}], " ", "d1", " ", 
   RowBox[{"Cos", "[", 
    RowBox[{"th1", "[", "t", "]"}], "]"}]}], "-", 
  RowBox[{"d2", " ", 
   RowBox[{"Cos", "[", 
    RowBox[{"th2", "[", "t", "]"}], "]"}]}]}]], "Output",
 CellChangeTimes->{
  3.671954179328288*^9, 3.6719563931073503`*^9, 3.671963442714052*^9, 
   3.6719634997093716`*^9, 3.6719635919858847`*^9, 3.671965377331514*^9, 
   3.671965956579147*^9, 3.6719665132690597`*^9, {3.671986293270974*^9, 
   3.6719863110703382`*^9}, 3.6720314477945285`*^9}]
}, Open  ]],

Cell[TextData[StyleBox["Segment 3 COM coords",
 FontWeight->"Bold"]], "Text",
 CellChangeTimes->{{3.625752860737359*^9, 3.625752877369768*^9}, {
   3.625752929144995*^9, 3.6257529453014083`*^9}, {3.671952937156045*^9, 
   3.671952942092848*^9}, 3.671953056028483*^9, 3.6719533764764175`*^9}],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{"x3", "=", 
  RowBox[{
   RowBox[{"2", "d1", " ", 
    RowBox[{"Sin", "[", 
     RowBox[{"th1", "[", "t", "]"}], "]"}]}], "+", 
   RowBox[{
    RowBox[{"(", 
     RowBox[{"d2", " ", "+", 
      RowBox[{"l", "[", "t", "]"}]}], ")"}], " ", 
    RowBox[{"Sin", "[", 
     RowBox[{"th2", "[", "t", "]"}], "]"}]}]}]}], "\[IndentingNewLine]", 
 RowBox[{"y3", "=", 
  RowBox[{
   RowBox[{
    RowBox[{"-", "2"}], "d1", " ", 
    RowBox[{"Cos", "[", 
     RowBox[{"th1", "[", "t", "]"}], "]"}]}], "-", 
   RowBox[{
    RowBox[{"(", 
     RowBox[{"d2", "+", 
      RowBox[{"l", "[", "t", "]"}]}], ")"}], " ", 
    RowBox[{"Cos", "[", 
     RowBox[{"th2", "[", "t", "]"}], "]"}]}]}]}]}], "Input",
 CellChangeTimes->{{3.625752953667601*^9, 3.6257529917234793`*^9}, {
  3.625753058518072*^9, 3.625753065287228*^9}, {3.6257531275666924`*^9, 
  3.625753166445636*^9}, {3.629264940720087*^9, 3.6292649982877545`*^9}, {
  3.6719529498862405`*^9, 3.6719530073853655`*^9}, {3.6719530609903584`*^9, 
  3.6719530880381002`*^9}, {3.6719533042058415`*^9, 3.671953317269898*^9}, {
  3.6719533780483017`*^9, 3.671953442501938*^9}, {3.671953476027687*^9, 
  3.6719535127338905`*^9}, {3.672031217544359*^9, 3.6720312339322968`*^9}}],

Cell[BoxData[
 RowBox[{
  RowBox[{"2", " ", "d1", " ", 
   RowBox[{"Sin", "[", 
    RowBox[{"th1", "[", "t", "]"}], "]"}]}], "+", 
  RowBox[{
   RowBox[{"(", 
    RowBox[{"d2", "+", 
     RowBox[{"l", "[", "t", "]"}]}], ")"}], " ", 
   RowBox[{"Sin", "[", 
    RowBox[{"th2", "[", "t", "]"}], "]"}]}]}]], "Output",
 CellChangeTimes->{
  3.6719541835125217`*^9, 3.671956393119363*^9, 3.671963442725046*^9, 
   3.6719634997188807`*^9, 3.6719635920088053`*^9, 3.671965377343526*^9, 
   3.6719659565947742`*^9, 3.671966513292867*^9, {3.671986293283489*^9, 
   3.6719863110833282`*^9}, 3.6720314478085294`*^9}],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"-", "2"}], " ", "d1", " ", 
   RowBox[{"Cos", "[", 
    RowBox[{"th1", "[", "t", "]"}], "]"}]}], "-", 
  RowBox[{
   RowBox[{"Cos", "[", 
    RowBox[{"th2", "[", "t", "]"}], "]"}], " ", 
   RowBox[{"(", 
    RowBox[{"d2", "+", 
     RowBox[{"l", "[", "t", "]"}]}], ")"}]}]}]], "Output",
 CellChangeTimes->{
  3.6719541835125217`*^9, 3.671956393119363*^9, 3.671963442725046*^9, 
   3.6719634997188807`*^9, 3.6719635920088053`*^9, 3.671965377343526*^9, 
   3.6719659565947742`*^9, 3.671966513292867*^9, {3.671986293283489*^9, 
   3.6719863110833282`*^9}, 3.6720314478115296`*^9}]
}, Open  ]],

Cell[TextData[StyleBox["Segment 1 COM velocity",
 FontWeight->"Bold"]], "Text",
 CellChangeTimes->{{3.625755368349736*^9, 3.6257553783449793`*^9}, {
  3.6719535384021287`*^9, 3.6719535490955887`*^9}}],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{"x1dot", "=", 
  RowBox[{"D", "[", 
   RowBox[{"x1", ",", "t"}], "]"}]}], "\[IndentingNewLine]", 
 RowBox[{"y1dot", "=", 
  RowBox[{"D", "[", 
   RowBox[{"y1", ",", "t"}], "]"}]}]}], "Input",
 CellChangeTimes->{{3.6257553881782403`*^9, 3.6257554056516294`*^9}, {
  3.629265004161886*^9, 3.629265013457136*^9}, {3.671953521445153*^9, 
  3.671953530764901*^9}}],

Cell[BoxData[
 RowBox[{"d1", " ", 
  RowBox[{"Cos", "[", 
   RowBox[{"th1", "[", "t", "]"}], "]"}], " ", 
  RowBox[{
   SuperscriptBox["th1", "\[Prime]",
    MultilineFunction->None], "[", "t", "]"}]}]], "Output",
 CellChangeTimes->{
  3.6719541873035545`*^9, 3.6719542366263194`*^9, 3.6719543901253815`*^9, 
   3.671956393129402*^9, 3.671963442726046*^9, 3.6719634997283916`*^9, 
   3.671963592019822*^9, 3.671965377353541*^9, 3.671965956610399*^9, 
   3.6719665133048787`*^9, {3.671986293296503*^9, 3.6719863110983653`*^9}, 
   3.67203144782553*^9}],

Cell[BoxData[
 RowBox[{"d1", " ", 
  RowBox[{"Sin", "[", 
   RowBox[{"th1", "[", "t", "]"}], "]"}], " ", 
  RowBox[{
   SuperscriptBox["th1", "\[Prime]",
    MultilineFunction->None], "[", "t", "]"}]}]], "Output",
 CellChangeTimes->{
  3.6719541873035545`*^9, 3.6719542366263194`*^9, 3.6719543901253815`*^9, 
   3.671956393129402*^9, 3.671963442726046*^9, 3.6719634997283916`*^9, 
   3.671963592019822*^9, 3.671965377353541*^9, 3.671965956610399*^9, 
   3.6719665133048787`*^9, {3.671986293296503*^9, 3.6719863110983653`*^9}, 
   3.6720314478275304`*^9}]
}, Open  ]],

Cell[TextData[StyleBox["Segment 2 COM velocity",
 FontWeight->"Bold"]], "Text",
 CellChangeTimes->{{3.625755368349736*^9, 3.6257553783449793`*^9}, {
  3.6719535384021287`*^9, 3.6719535732603073`*^9}}],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{"x2dot", "=", 
  RowBox[{"D", "[", 
   RowBox[{"x2", ",", "t"}], "]"}]}], "\[IndentingNewLine]", 
 RowBox[{"y2dot", "=", 
  RowBox[{"D", "[", 
   RowBox[{"y2", ",", "t"}], "]"}]}]}], "Input",
 CellChangeTimes->{{3.6257553881782403`*^9, 3.6257554056516294`*^9}, {
  3.629265004161886*^9, 3.629265013457136*^9}, {3.671953521445153*^9, 
  3.671953530764901*^9}, {3.671953578439601*^9, 3.671953588173123*^9}}],

Cell[BoxData[
 RowBox[{
  RowBox[{"2", " ", "d1", " ", 
   RowBox[{"Cos", "[", 
    RowBox[{"th1", "[", "t", "]"}], "]"}], " ", 
   RowBox[{
    SuperscriptBox["th1", "\[Prime]",
     MultilineFunction->None], "[", "t", "]"}]}], "+", 
  RowBox[{"d2", " ", 
   RowBox[{"Cos", "[", 
    RowBox[{"th2", "[", "t", "]"}], "]"}], " ", 
   RowBox[{
    SuperscriptBox["th2", "\[Prime]",
     MultilineFunction->None], "[", "t", "]"}]}]}]], "Output",
 CellChangeTimes->{
  3.671954200038991*^9, 3.6719563931414695`*^9, 3.6719634427424607`*^9, 
   3.6719634997354007`*^9, 3.6719635920313396`*^9, 3.671965377361633*^9, 
   3.6719659566260386`*^9, 3.671966513317893*^9, {3.671986293308536*^9, 
   3.671986311108881*^9}, 3.6720314478405313`*^9}],

Cell[BoxData[
 RowBox[{
  RowBox[{"2", " ", "d1", " ", 
   RowBox[{"Sin", "[", 
    RowBox[{"th1", "[", "t", "]"}], "]"}], " ", 
   RowBox[{
    SuperscriptBox["th1", "\[Prime]",
     MultilineFunction->None], "[", "t", "]"}]}], "+", 
  RowBox[{"d2", " ", 
   RowBox[{"Sin", "[", 
    RowBox[{"th2", "[", "t", "]"}], "]"}], " ", 
   RowBox[{
    SuperscriptBox["th2", "\[Prime]",
     MultilineFunction->None], "[", "t", "]"}]}]}]], "Output",
 CellChangeTimes->{
  3.671954200038991*^9, 3.6719563931414695`*^9, 3.6719634427424607`*^9, 
   3.6719634997354007`*^9, 3.6719635920313396`*^9, 3.671965377361633*^9, 
   3.6719659566260386`*^9, 3.671966513317893*^9, {3.671986293308536*^9, 
   3.671986311108881*^9}, 3.672031447842531*^9}]
}, Open  ]],

Cell[TextData[StyleBox["Segment 3 COM velocity",
 FontWeight->"Bold"]], "Text",
 CellChangeTimes->{{3.625755368349736*^9, 3.6257553783449793`*^9}, {
  3.6719535384021287`*^9, 3.6719535755718613`*^9}}],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{"x3dot", "=", 
  RowBox[{"D", "[", 
   RowBox[{"x3", ",", "t"}], "]"}]}], "\[IndentingNewLine]", 
 RowBox[{"y3dot", "=", 
  RowBox[{"D", "[", 
   RowBox[{"y3", ",", "t"}], "]"}]}]}], "Input",
 CellChangeTimes->{{3.6257553881782403`*^9, 3.6257554056516294`*^9}, {
  3.629265004161886*^9, 3.629265013457136*^9}, {3.671953521445153*^9, 
  3.671953530764901*^9}, {3.6719535937926836`*^9, 3.6719536007733326`*^9}}],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"Sin", "[", 
    RowBox[{"th2", "[", "t", "]"}], "]"}], " ", 
   RowBox[{
    SuperscriptBox["l", "\[Prime]",
     MultilineFunction->None], "[", "t", "]"}]}], "+", 
  RowBox[{"2", " ", "d1", " ", 
   RowBox[{"Cos", "[", 
    RowBox[{"th1", "[", "t", "]"}], "]"}], " ", 
   RowBox[{
    SuperscriptBox["th1", "\[Prime]",
     MultilineFunction->None], "[", "t", "]"}]}], "+", 
  RowBox[{
   RowBox[{"Cos", "[", 
    RowBox[{"th2", "[", "t", "]"}], "]"}], " ", 
   RowBox[{"(", 
    RowBox[{"d2", "+", 
     RowBox[{"l", "[", "t", "]"}]}], ")"}], " ", 
   RowBox[{
    SuperscriptBox["th2", "\[Prime]",
     MultilineFunction->None], "[", "t", "]"}]}]}]], "Output",
 CellChangeTimes->{
  3.671954203687904*^9, 3.6719563931459475`*^9, 3.6719634427454653`*^9, 
   3.6719634997354007`*^9, 3.6719635920403776`*^9, 3.671965377361633*^9, 
   3.6719659566416483`*^9, 3.671966513322397*^9, {3.6719862933325605`*^9, 
   3.6719863111240377`*^9}, 3.6720314478555317`*^9}],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"-", 
    RowBox[{"Cos", "[", 
     RowBox[{"th2", "[", "t", "]"}], "]"}]}], " ", 
   RowBox[{
    SuperscriptBox["l", "\[Prime]",
     MultilineFunction->None], "[", "t", "]"}]}], "+", 
  RowBox[{"2", " ", "d1", " ", 
   RowBox[{"Sin", "[", 
    RowBox[{"th1", "[", "t", "]"}], "]"}], " ", 
   RowBox[{
    SuperscriptBox["th1", "\[Prime]",
     MultilineFunction->None], "[", "t", "]"}]}], "+", 
  RowBox[{
   RowBox[{"(", 
    RowBox[{"d2", "+", 
     RowBox[{"l", "[", "t", "]"}]}], ")"}], " ", 
   RowBox[{"Sin", "[", 
    RowBox[{"th2", "[", "t", "]"}], "]"}], " ", 
   RowBox[{
    SuperscriptBox["th2", "\[Prime]",
     MultilineFunction->None], "[", "t", "]"}]}]}]], "Output",
 CellChangeTimes->{
  3.671954203687904*^9, 3.6719563931459475`*^9, 3.6719634427454653`*^9, 
   3.6719634997354007`*^9, 3.6719635920403776`*^9, 3.671965377361633*^9, 
   3.6719659566416483`*^9, 3.671966513322397*^9, {3.6719862933325605`*^9, 
   3.6719863111240377`*^9}, 3.6720314478575325`*^9}]
}, Open  ]]
}, Closed]],

Cell[CellGroupData[{

Cell["Kinetic Energy", "Subsection",
 CellChangeTimes->{{3.6240307151615286`*^9, 3.6240307186463523`*^9}}],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{
  RowBox[{"K1", "=", 
   RowBox[{
    RowBox[{
     RowBox[{"1", "/", "2"}], " ", "I1", " ", 
     RowBox[{
      RowBox[{
       RowBox[{"th1", "'"}], "[", "t", "]"}], "^", "2"}]}], "+", 
    RowBox[{
     RowBox[{"1", "/", "2"}], "m1", " ", 
     RowBox[{"(", 
      RowBox[{
       RowBox[{"x1dot", "^", "2"}], "+", 
       RowBox[{"y1dot", "^", "2"}]}], ")"}]}]}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"K2", "=", 
   RowBox[{
    RowBox[{
     RowBox[{"1", "/", "2"}], " ", "I2", " ", 
     RowBox[{
      RowBox[{
       RowBox[{"th2", "'"}], "[", "t", "]"}], "^", "2"}]}], "+", 
    RowBox[{
     RowBox[{"1", "/", "2"}], " ", "m2", " ", 
     RowBox[{"(", 
      RowBox[{
       RowBox[{"x2dot", "^", "2"}], "+", 
       RowBox[{"y2dot", "^", "2"}]}], ")"}]}]}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"K3", "=", 
   RowBox[{
    RowBox[{
     RowBox[{"1", "/", "2"}], " ", "I3", " ", 
     RowBox[{
      RowBox[{
       RowBox[{"th2", "'"}], "[", "t", "]"}], "^", "2"}]}], "+", 
    RowBox[{
     RowBox[{"1", "/", "2"}], " ", "m3", " ", 
     RowBox[{"(", 
      RowBox[{
       RowBox[{"x3dot", "^", "2"}], "+", 
       RowBox[{"y3dot", "^", "2"}]}], ")"}]}]}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{"K", "=", 
  RowBox[{"K1", "+", "K2", "+", "K3"}]}]}], "Input",
 CellChangeTimes->{{3.6240271245582304`*^9, 3.6240271691255264`*^9}, {
   3.6240272087905846`*^9, 3.6240272432223997`*^9}, {3.6240282714202275`*^9, 
   3.624028452888751*^9}, {3.624709037606067*^9, 3.6247090525850935`*^9}, {
   3.6247091071105905`*^9, 3.6247091551424756`*^9}, {3.624709187765133*^9, 
   3.6247092502190433`*^9}, 3.6247137798104815`*^9, {3.6257540858950405`*^9, 
   3.6257540922711954`*^9}, {3.6257542457589674`*^9, 
   3.6257543050564384`*^9}, {3.625754371400032*^9, 3.625754376258164*^9}, {
   3.6257544407437487`*^9, 3.6257544838528233`*^9}, {3.625754527286911*^9, 
   3.6257545276539216`*^9}, {3.6257545793061805`*^9, 3.625754601144729*^9}, {
   3.6257547098153896`*^9, 3.62575476109665*^9}, {3.6257547926344194`*^9, 
   3.62575482464522*^9}, {3.6257549977984686`*^9, 3.6257550225290728`*^9}, {
   3.6257550622580466`*^9, 3.6257551412040005`*^9}, {3.6257558143854876`*^9, 
   3.625755833061759*^9}, {3.629265060467372*^9, 3.6292650989784145`*^9}, {
   3.671953766407113*^9, 3.671953826133712*^9}, {3.671953889798041*^9, 
   3.671953936299241*^9}, {3.6719544056444206`*^9, 3.671954410210599*^9}}],

Cell[BoxData[
 RowBox[{
  RowBox[{
   FractionBox["1", "2"], " ", "I1", " ", 
   SuperscriptBox[
    RowBox[{
     SuperscriptBox["th1", "\[Prime]",
      MultilineFunction->None], "[", "t", "]"}], "2"]}], "+", 
  RowBox[{
   FractionBox["1", "2"], " ", "m1", " ", 
   RowBox[{"(", 
    RowBox[{
     RowBox[{
      SuperscriptBox["d1", "2"], " ", 
      SuperscriptBox[
       RowBox[{"Cos", "[", 
        RowBox[{"th1", "[", "t", "]"}], "]"}], "2"], " ", 
      SuperscriptBox[
       RowBox[{
        SuperscriptBox["th1", "\[Prime]",
         MultilineFunction->None], "[", "t", "]"}], "2"]}], "+", 
     RowBox[{
      SuperscriptBox["d1", "2"], " ", 
      SuperscriptBox[
       RowBox[{"Sin", "[", 
        RowBox[{"th1", "[", "t", "]"}], "]"}], "2"], " ", 
      SuperscriptBox[
       RowBox[{
        SuperscriptBox["th1", "\[Prime]",
         MultilineFunction->None], "[", "t", "]"}], "2"]}]}], ")"}]}], "+", 
  RowBox[{
   FractionBox["1", "2"], " ", "I2", " ", 
   SuperscriptBox[
    RowBox[{
     SuperscriptBox["th2", "\[Prime]",
      MultilineFunction->None], "[", "t", "]"}], "2"]}], "+", 
  RowBox[{
   FractionBox["1", "2"], " ", "I3", " ", 
   SuperscriptBox[
    RowBox[{
     SuperscriptBox["th2", "\[Prime]",
      MultilineFunction->None], "[", "t", "]"}], "2"]}], "+", 
  RowBox[{
   FractionBox["1", "2"], " ", "m2", " ", 
   RowBox[{"(", 
    RowBox[{
     SuperscriptBox[
      RowBox[{"(", 
       RowBox[{
        RowBox[{"2", " ", "d1", " ", 
         RowBox[{"Cos", "[", 
          RowBox[{"th1", "[", "t", "]"}], "]"}], " ", 
         RowBox[{
          SuperscriptBox["th1", "\[Prime]",
           MultilineFunction->None], "[", "t", "]"}]}], "+", 
        RowBox[{"d2", " ", 
         RowBox[{"Cos", "[", 
          RowBox[{"th2", "[", "t", "]"}], "]"}], " ", 
         RowBox[{
          SuperscriptBox["th2", "\[Prime]",
           MultilineFunction->None], "[", "t", "]"}]}]}], ")"}], "2"], "+", 
     SuperscriptBox[
      RowBox[{"(", 
       RowBox[{
        RowBox[{"2", " ", "d1", " ", 
         RowBox[{"Sin", "[", 
          RowBox[{"th1", "[", "t", "]"}], "]"}], " ", 
         RowBox[{
          SuperscriptBox["th1", "\[Prime]",
           MultilineFunction->None], "[", "t", "]"}]}], "+", 
        RowBox[{"d2", " ", 
         RowBox[{"Sin", "[", 
          RowBox[{"th2", "[", "t", "]"}], "]"}], " ", 
         RowBox[{
          SuperscriptBox["th2", "\[Prime]",
           MultilineFunction->None], "[", "t", "]"}]}]}], ")"}], "2"]}], 
    ")"}]}], "+", 
  RowBox[{
   FractionBox["1", "2"], " ", "m3", " ", 
   RowBox[{"(", 
    RowBox[{
     SuperscriptBox[
      RowBox[{"(", 
       RowBox[{
        RowBox[{
         RowBox[{"Sin", "[", 
          RowBox[{"th2", "[", "t", "]"}], "]"}], " ", 
         RowBox[{
          SuperscriptBox["l", "\[Prime]",
           MultilineFunction->None], "[", "t", "]"}]}], "+", 
        RowBox[{"2", " ", "d1", " ", 
         RowBox[{"Cos", "[", 
          RowBox[{"th1", "[", "t", "]"}], "]"}], " ", 
         RowBox[{
          SuperscriptBox["th1", "\[Prime]",
           MultilineFunction->None], "[", "t", "]"}]}], "+", 
        RowBox[{
         RowBox[{"Cos", "[", 
          RowBox[{"th2", "[", "t", "]"}], "]"}], " ", 
         RowBox[{"(", 
          RowBox[{"d2", "+", 
           RowBox[{"l", "[", "t", "]"}]}], ")"}], " ", 
         RowBox[{
          SuperscriptBox["th2", "\[Prime]",
           MultilineFunction->None], "[", "t", "]"}]}]}], ")"}], "2"], "+", 
     SuperscriptBox[
      RowBox[{"(", 
       RowBox[{
        RowBox[{
         RowBox[{"-", 
          RowBox[{"Cos", "[", 
           RowBox[{"th2", "[", "t", "]"}], "]"}]}], " ", 
         RowBox[{
          SuperscriptBox["l", "\[Prime]",
           MultilineFunction->None], "[", "t", "]"}]}], "+", 
        RowBox[{"2", " ", "d1", " ", 
         RowBox[{"Sin", "[", 
          RowBox[{"th1", "[", "t", "]"}], "]"}], " ", 
         RowBox[{
          SuperscriptBox["th1", "\[Prime]",
           MultilineFunction->None], "[", "t", "]"}]}], "+", 
        RowBox[{
         RowBox[{"(", 
          RowBox[{"d2", "+", 
           RowBox[{"l", "[", "t", "]"}]}], ")"}], " ", 
         RowBox[{"Sin", "[", 
          RowBox[{"th2", "[", "t", "]"}], "]"}], " ", 
         RowBox[{
          SuperscriptBox["th2", "\[Prime]",
           MultilineFunction->None], "[", "t", "]"}]}]}], ")"}], "2"]}], 
    ")"}]}]}]], "Output",
 CellChangeTimes->{
  3.6719544198715363`*^9, 3.671956393166506*^9, 3.671963442764624*^9, 
   3.671963499760094*^9, 3.6719635920524197`*^9, 3.671965377397936*^9, 
   3.671965956657273*^9, 3.67196651335365*^9, {3.6719862933455734`*^9, 
   3.6719863111480865`*^9}, 3.6720314478765335`*^9}]
}, Open  ]]
}, Closed]],

Cell[CellGroupData[{

Cell["Potential Energy", "Subsection",
 CellChangeTimes->{{3.624030741895691*^9, 3.6240307462627163`*^9}}],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{
  RowBox[{"U1", "=", 
   RowBox[{"m1", " ", "g", " ", "y1"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"U2", "=", 
   RowBox[{"m2", " ", "g", " ", "y2"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"U3", "=", 
   RowBox[{"m3", " ", "g", " ", "y3"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"Uspring", "=", 
   RowBox[{
    RowBox[{"1", "/", "2"}], " ", "kspring", " ", 
    RowBox[{
     RowBox[{"(", 
      RowBox[{"Lspring", "-", 
       RowBox[{"l", "[", "t", "]"}]}], ")"}], "^", "2"}]}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{"U", "=", 
  RowBox[{"U1", "+", "U2", "+", "U3", "+", "Uspring"}]}]}], "Input",
 CellChangeTimes->{{3.6240285065552464`*^9, 3.6240285418545094`*^9}, {
   3.6240287870117793`*^9, 3.6240287926149187`*^9}, {3.6240288388789606`*^9, 
   3.6240289934592595`*^9}, {3.624030201667485*^9, 3.6240302034684935`*^9}, 
   3.6240326057508554`*^9, {3.6240326458106833`*^9, 3.624032647086894*^9}, {
   3.6247103439627934`*^9, 3.6247103629676266`*^9}, 3.62471045561059*^9, 
   3.6247106164628735`*^9, {3.6247106817393885`*^9, 3.624710715737517*^9}, {
   3.6247108906816254`*^9, 3.6247108966106358`*^9}, 3.6247135306394424`*^9, {
   3.6250809348724365`*^9, 3.6250809429678993`*^9}, {3.6250817603501616`*^9, 
   3.6250817739419394`*^9}, {3.625081810254016*^9, 3.625081843148897*^9}, {
   3.625757132617341*^9, 3.625757134249387*^9}, {3.6257571643203306`*^9, 
   3.6257571937472725`*^9}, {3.625757234977583*^9, 3.6257572431128545`*^9}, {
   3.6257573149441853`*^9, 3.6257573403919673`*^9}, {3.6257573993618116`*^9, 
   3.625757439505047*^9}, {3.625757515138316*^9, 3.625757540788121*^9}, {
   3.629265204214609*^9, 3.6292652672412605`*^9}, {3.629266579822607*^9, 
   3.6292666050782714`*^9}, {3.671953969677861*^9, 3.671954066360489*^9}, {
   3.6719545507395644`*^9, 3.671954561285857*^9}, {3.6719664216199055`*^9, 
   3.6719664267240987`*^9}}],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"-", "d1"}], " ", "g", " ", "m1", " ", 
   RowBox[{"Cos", "[", 
    RowBox[{"th1", "[", "t", "]"}], "]"}]}], "+", 
  RowBox[{"g", " ", "m2", " ", 
   RowBox[{"(", 
    RowBox[{
     RowBox[{
      RowBox[{"-", "2"}], " ", "d1", " ", 
      RowBox[{"Cos", "[", 
       RowBox[{"th1", "[", "t", "]"}], "]"}]}], "-", 
     RowBox[{"d2", " ", 
      RowBox[{"Cos", "[", 
       RowBox[{"th2", "[", "t", "]"}], "]"}]}]}], ")"}]}], "+", 
  RowBox[{
   FractionBox["1", "2"], " ", "kspring", " ", 
   SuperscriptBox[
    RowBox[{"(", 
     RowBox[{"Lspring", "-", 
      RowBox[{"l", "[", "t", "]"}]}], ")"}], "2"]}], "+", 
  RowBox[{"g", " ", "m3", " ", 
   RowBox[{"(", 
    RowBox[{
     RowBox[{
      RowBox[{"-", "2"}], " ", "d1", " ", 
      RowBox[{"Cos", "[", 
       RowBox[{"th1", "[", "t", "]"}], "]"}]}], "-", 
     RowBox[{
      RowBox[{"Cos", "[", 
       RowBox[{"th2", "[", "t", "]"}], "]"}], " ", 
      RowBox[{"(", 
       RowBox[{"d2", "+", 
        RowBox[{"l", "[", "t", "]"}]}], ")"}]}]}], ")"}]}]}]], "Output",
 CellChangeTimes->{
  3.671954429176804*^9, 3.6719545663546495`*^9, 3.671956393186571*^9, 
   3.671963442765625*^9, 3.6719634997756643`*^9, 3.67196359205542*^9, 
   3.671965377398413*^9, 3.671965956657273*^9, 3.671966513369275*^9, {
   3.671986293354582*^9, 3.6719863111570697`*^9}, 3.672031447891534*^9}]
}, Open  ]]
}, Closed]],

Cell[CellGroupData[{

Cell["Lagrangian", "Subsection",
 CellChangeTimes->{{3.6240298024649515`*^9, 3.6240298059739747`*^9}}],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"L", "=", 
  RowBox[{"K", "-", "U"}]}]], "Input",
 CellChangeTimes->{{3.624029841761593*^9, 3.6240298540984735`*^9}}],

Cell[BoxData[
 RowBox[{
  RowBox[{"d1", " ", "g", " ", "m1", " ", 
   RowBox[{"Cos", "[", 
    RowBox[{"th1", "[", "t", "]"}], "]"}]}], "-", 
  RowBox[{"g", " ", "m2", " ", 
   RowBox[{"(", 
    RowBox[{
     RowBox[{
      RowBox[{"-", "2"}], " ", "d1", " ", 
      RowBox[{"Cos", "[", 
       RowBox[{"th1", "[", "t", "]"}], "]"}]}], "-", 
     RowBox[{"d2", " ", 
      RowBox[{"Cos", "[", 
       RowBox[{"th2", "[", "t", "]"}], "]"}]}]}], ")"}]}], "-", 
  RowBox[{
   FractionBox["1", "2"], " ", "kspring", " ", 
   SuperscriptBox[
    RowBox[{"(", 
     RowBox[{"Lspring", "-", 
      RowBox[{"l", "[", "t", "]"}]}], ")"}], "2"]}], "-", 
  RowBox[{"g", " ", "m3", " ", 
   RowBox[{"(", 
    RowBox[{
     RowBox[{
      RowBox[{"-", "2"}], " ", "d1", " ", 
      RowBox[{"Cos", "[", 
       RowBox[{"th1", "[", "t", "]"}], "]"}]}], "-", 
     RowBox[{
      RowBox[{"Cos", "[", 
       RowBox[{"th2", "[", "t", "]"}], "]"}], " ", 
      RowBox[{"(", 
       RowBox[{"d2", "+", 
        RowBox[{"l", "[", "t", "]"}]}], ")"}]}]}], ")"}]}], "+", 
  RowBox[{
   FractionBox["1", "2"], " ", "I1", " ", 
   SuperscriptBox[
    RowBox[{
     SuperscriptBox["th1", "\[Prime]",
      MultilineFunction->None], "[", "t", "]"}], "2"]}], "+", 
  RowBox[{
   FractionBox["1", "2"], " ", "m1", " ", 
   RowBox[{"(", 
    RowBox[{
     RowBox[{
      SuperscriptBox["d1", "2"], " ", 
      SuperscriptBox[
       RowBox[{"Cos", "[", 
        RowBox[{"th1", "[", "t", "]"}], "]"}], "2"], " ", 
      SuperscriptBox[
       RowBox[{
        SuperscriptBox["th1", "\[Prime]",
         MultilineFunction->None], "[", "t", "]"}], "2"]}], "+", 
     RowBox[{
      SuperscriptBox["d1", "2"], " ", 
      SuperscriptBox[
       RowBox[{"Sin", "[", 
        RowBox[{"th1", "[", "t", "]"}], "]"}], "2"], " ", 
      SuperscriptBox[
       RowBox[{
        SuperscriptBox["th1", "\[Prime]",
         MultilineFunction->None], "[", "t", "]"}], "2"]}]}], ")"}]}], "+", 
  RowBox[{
   FractionBox["1", "2"], " ", "I2", " ", 
   SuperscriptBox[
    RowBox[{
     SuperscriptBox["th2", "\[Prime]",
      MultilineFunction->None], "[", "t", "]"}], "2"]}], "+", 
  RowBox[{
   FractionBox["1", "2"], " ", "I3", " ", 
   SuperscriptBox[
    RowBox[{
     SuperscriptBox["th2", "\[Prime]",
      MultilineFunction->None], "[", "t", "]"}], "2"]}], "+", 
  RowBox[{
   FractionBox["1", "2"], " ", "m2", " ", 
   RowBox[{"(", 
    RowBox[{
     SuperscriptBox[
      RowBox[{"(", 
       RowBox[{
        RowBox[{"2", " ", "d1", " ", 
         RowBox[{"Cos", "[", 
          RowBox[{"th1", "[", "t", "]"}], "]"}], " ", 
         RowBox[{
          SuperscriptBox["th1", "\[Prime]",
           MultilineFunction->None], "[", "t", "]"}]}], "+", 
        RowBox[{"d2", " ", 
         RowBox[{"Cos", "[", 
          RowBox[{"th2", "[", "t", "]"}], "]"}], " ", 
         RowBox[{
          SuperscriptBox["th2", "\[Prime]",
           MultilineFunction->None], "[", "t", "]"}]}]}], ")"}], "2"], "+", 
     SuperscriptBox[
      RowBox[{"(", 
       RowBox[{
        RowBox[{"2", " ", "d1", " ", 
         RowBox[{"Sin", "[", 
          RowBox[{"th1", "[", "t", "]"}], "]"}], " ", 
         RowBox[{
          SuperscriptBox["th1", "\[Prime]",
           MultilineFunction->None], "[", "t", "]"}]}], "+", 
        RowBox[{"d2", " ", 
         RowBox[{"Sin", "[", 
          RowBox[{"th2", "[", "t", "]"}], "]"}], " ", 
         RowBox[{
          SuperscriptBox["th2", "\[Prime]",
           MultilineFunction->None], "[", "t", "]"}]}]}], ")"}], "2"]}], 
    ")"}]}], "+", 
  RowBox[{
   FractionBox["1", "2"], " ", "m3", " ", 
   RowBox[{"(", 
    RowBox[{
     SuperscriptBox[
      RowBox[{"(", 
       RowBox[{
        RowBox[{
         RowBox[{"Sin", "[", 
          RowBox[{"th2", "[", "t", "]"}], "]"}], " ", 
         RowBox[{
          SuperscriptBox["l", "\[Prime]",
           MultilineFunction->None], "[", "t", "]"}]}], "+", 
        RowBox[{"2", " ", "d1", " ", 
         RowBox[{"Cos", "[", 
          RowBox[{"th1", "[", "t", "]"}], "]"}], " ", 
         RowBox[{
          SuperscriptBox["th1", "\[Prime]",
           MultilineFunction->None], "[", "t", "]"}]}], "+", 
        RowBox[{
         RowBox[{"Cos", "[", 
          RowBox[{"th2", "[", "t", "]"}], "]"}], " ", 
         RowBox[{"(", 
          RowBox[{"d2", "+", 
           RowBox[{"l", "[", "t", "]"}]}], ")"}], " ", 
         RowBox[{
          SuperscriptBox["th2", "\[Prime]",
           MultilineFunction->None], "[", "t", "]"}]}]}], ")"}], "2"], "+", 
     SuperscriptBox[
      RowBox[{"(", 
       RowBox[{
        RowBox[{
         RowBox[{"-", 
          RowBox[{"Cos", "[", 
           RowBox[{"th2", "[", "t", "]"}], "]"}]}], " ", 
         RowBox[{
          SuperscriptBox["l", "\[Prime]",
           MultilineFunction->None], "[", "t", "]"}]}], "+", 
        RowBox[{"2", " ", "d1", " ", 
         RowBox[{"Sin", "[", 
          RowBox[{"th1", "[", "t", "]"}], "]"}], " ", 
         RowBox[{
          SuperscriptBox["th1", "\[Prime]",
           MultilineFunction->None], "[", "t", "]"}]}], "+", 
        RowBox[{
         RowBox[{"(", 
          RowBox[{"d2", "+", 
           RowBox[{"l", "[", "t", "]"}]}], ")"}], " ", 
         RowBox[{"Sin", "[", 
          RowBox[{"th2", "[", "t", "]"}], "]"}], " ", 
         RowBox[{
          SuperscriptBox["th2", "\[Prime]",
           MultilineFunction->None], "[", "t", "]"}]}]}], ")"}], "2"]}], 
    ")"}]}]}]], "Output",
 CellChangeTimes->{
  3.671954578764079*^9, 3.6719563932049217`*^9, 3.6719634427821074`*^9, 
   3.671963499796006*^9, 3.671963592076351*^9, 3.6719653774140778`*^9, 
   3.671965956677908*^9, 3.6719665134005246`*^9, {3.671986293366593*^9, 
   3.671986311170105*^9}, 3.672031447908535*^9}]
}, Open  ]]
}, Closed]],

Cell[CellGroupData[{

Cell["Lagrange Terms (dL/dqdot)", "Subsection",
 CellChangeTimes->{
  3.6240320775382533`*^9, {3.624032259491333*^9, 3.624032263547353*^9}}],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"dLdth1dot", "=", 
  RowBox[{"FullSimplify", "[", 
   RowBox[{"D", "[", 
    RowBox[{"L", ",", 
     RowBox[{
      RowBox[{"th1", "'"}], "[", "t", "]"}]}], "]"}], "]"}]}]], "Input",
 CellChangeTimes->{{3.6136429681884785`*^9, 3.6136430732134857`*^9}, {
   3.6136432295494275`*^9, 3.6136432372838697`*^9}, 3.6236756692108946`*^9, {
   3.6236760172324533`*^9, 3.623676036012486*^9}, {3.624030943740139*^9, 
   3.624030972215724*^9}, {3.6247111089158096`*^9, 3.624711118166626*^9}, {
   3.625757666793086*^9, 3.6257576691831627`*^9}, 3.67195467882994*^9, {
   3.6719549335053453`*^9, 3.671954955936655*^9}}],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"-", "2"}], " ", "d1", " ", "m3", " ", 
   RowBox[{"Sin", "[", 
    RowBox[{
     RowBox[{"th1", "[", "t", "]"}], "-", 
     RowBox[{"th2", "[", "t", "]"}]}], "]"}], " ", 
   RowBox[{
    SuperscriptBox["l", "\[Prime]",
     MultilineFunction->None], "[", "t", "]"}]}], "+", 
  RowBox[{
   RowBox[{"(", 
    RowBox[{"I1", "+", 
     RowBox[{
      SuperscriptBox["d1", "2"], " ", 
      RowBox[{"(", 
       RowBox[{"m1", "+", 
        RowBox[{"4", " ", 
         RowBox[{"(", 
          RowBox[{"m2", "+", "m3"}], ")"}]}]}], ")"}]}]}], ")"}], " ", 
   RowBox[{
    SuperscriptBox["th1", "\[Prime]",
     MultilineFunction->None], "[", "t", "]"}]}], "+", 
  RowBox[{"2", " ", "d1", " ", 
   RowBox[{"Cos", "[", 
    RowBox[{
     RowBox[{"th1", "[", "t", "]"}], "-", 
     RowBox[{"th2", "[", "t", "]"}]}], "]"}], " ", 
   RowBox[{"(", 
    RowBox[{
     RowBox[{"d2", " ", 
      RowBox[{"(", 
       RowBox[{"m2", "+", "m3"}], ")"}]}], "+", 
     RowBox[{"m3", " ", 
      RowBox[{"l", "[", "t", "]"}]}]}], ")"}], " ", 
   RowBox[{
    SuperscriptBox["th2", "\[Prime]",
     MultilineFunction->None], "[", "t", "]"}]}]}]], "Output",
 CellChangeTimes->{
  3.6719550216000676`*^9, 3.671956393946331*^9, 3.6719634435256147`*^9, 
   3.6719635005338907`*^9, 3.6719635928014126`*^9, 3.671965378162711*^9, 
   3.671965957542904*^9, 3.6719665142245693`*^9, {3.671986293378605*^9, 
   3.671986311183116*^9}, 3.672031448618576*^9}]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"dLdth2dot", "=", 
  RowBox[{"FullSimplify", "[", 
   RowBox[{"D", "[", 
    RowBox[{"L", ",", 
     RowBox[{
      RowBox[{"th2", "'"}], "[", "t", "]"}]}], "]"}], "]"}]}]], "Input",
 CellChangeTimes->{{3.6136436181316533`*^9, 3.61364365514077*^9}, {
  3.6236760660695305`*^9, 3.623676091107569*^9}, {3.6238263862903395`*^9, 
  3.623826389837349*^9}, {3.6240309605376487`*^9, 3.624030975088935*^9}, {
  3.624711134158654*^9, 3.624711139496864*^9}, {3.6257576718002443`*^9, 
  3.6257576743383183`*^9}, {3.6719549629053397`*^9, 3.6719549702381816`*^9}}],

Cell[BoxData[
 RowBox[{
  RowBox[{"2", " ", "d1", " ", 
   RowBox[{"Cos", "[", 
    RowBox[{
     RowBox[{"th1", "[", "t", "]"}], "-", 
     RowBox[{"th2", "[", "t", "]"}]}], "]"}], " ", 
   RowBox[{"(", 
    RowBox[{
     RowBox[{"d2", " ", 
      RowBox[{"(", 
       RowBox[{"m2", "+", "m3"}], ")"}]}], "+", 
     RowBox[{"m3", " ", 
      RowBox[{"l", "[", "t", "]"}]}]}], ")"}], " ", 
   RowBox[{
    SuperscriptBox["th1", "\[Prime]",
     MultilineFunction->None], "[", "t", "]"}]}], "+", 
  RowBox[{
   RowBox[{"(", 
    RowBox[{"I2", "+", "I3", "+", 
     RowBox[{
      SuperscriptBox["d2", "2"], " ", 
      RowBox[{"(", 
       RowBox[{"m2", "+", "m3"}], ")"}]}], "+", 
     RowBox[{"m3", " ", 
      RowBox[{"l", "[", "t", "]"}], " ", 
      RowBox[{"(", 
       RowBox[{
        RowBox[{"2", " ", "d2"}], "+", 
        RowBox[{"l", "[", "t", "]"}]}], ")"}]}]}], ")"}], " ", 
   RowBox[{
    SuperscriptBox["th2", "\[Prime]",
     MultilineFunction->None], "[", "t", "]"}]}]}]], "Output",
 CellChangeTimes->{
  3.671955025586604*^9, 3.6719563942157574`*^9, 3.6719634438036194`*^9, 
   3.6719635008608274`*^9, 3.6719635930758133`*^9, 3.6719653785011373`*^9, 
   3.6719659579592743`*^9, 3.671966514682585*^9, {3.671986293398128*^9, 
   3.6719863112056475`*^9}, 3.67203144886659*^9}]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"dLdldot", "=", 
  RowBox[{"FullSimplify", "[", 
   RowBox[{"D", "[", 
    RowBox[{"L", ",", 
     RowBox[{
      RowBox[{"l", "'"}], "[", "t", "]"}]}], "]"}], "]"}]}]], "Input",
 CellChangeTimes->{{3.624031034502492*^9, 3.624031041706532*^9}, {
   3.624711151742885*^9, 3.6247111532092876`*^9}, 3.624712504694235*^9, {
   3.6257576770694056`*^9, 3.6257576944889293`*^9}, {3.6719549836613655`*^9, 
   3.67195498962971*^9}}],

Cell[BoxData[
 RowBox[{"m3", " ", 
  RowBox[{"(", 
   RowBox[{
    RowBox[{
     SuperscriptBox["l", "\[Prime]",
      MultilineFunction->None], "[", "t", "]"}], "-", 
    RowBox[{"2", " ", "d1", " ", 
     RowBox[{"Sin", "[", 
      RowBox[{
       RowBox[{"th1", "[", "t", "]"}], "-", 
       RowBox[{"th2", "[", "t", "]"}]}], "]"}], " ", 
     RowBox[{
      SuperscriptBox["th1", "\[Prime]",
       MultilineFunction->None], "[", "t", "]"}]}]}], ")"}]}]], "Output",
 CellChangeTimes->{
  3.6719550277185283`*^9, 3.6719563943162193`*^9, 3.671963443954097*^9, 
   3.6719635010059643`*^9, 3.671963593205284*^9, 3.6719653786014457`*^9, 
   3.671965958012659*^9, 3.6719665147409935`*^9, {3.6719862934221525`*^9, 
   3.6719863112161784`*^9}, 3.6720314489295936`*^9}]
}, Open  ]]
}, Closed]],

Cell[CellGroupData[{

Cell["Lagrange Terms (d(dL/dqdot)/dt)", "Subsection",
 CellChangeTimes->{3.6240321047384253`*^9}],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"dLdth1dotdot", "=", 
  RowBox[{"FullSimplify", "[", 
   RowBox[{"D", "[", 
    RowBox[{"dLdth1dot", ",", "t"}], "]"}], "]"}]}]], "Input",
 CellChangeTimes->{{3.613651286314248*^9, 3.6136513560042343`*^9}, {
  3.6236761195096107`*^9, 3.623676141666643*^9}, {3.62403133619506*^9, 
  3.6240313449707193`*^9}, {3.6247126106098213`*^9, 3.6247126136684265`*^9}, {
  3.6257580717643285`*^9, 3.6257580747384167`*^9}, {3.671955049273409*^9, 
  3.671955077611657*^9}}],

Cell[BoxData[
 RowBox[{
  RowBox[{"2", " ", "d1", " ", "m3", " ", 
   RowBox[{"Cos", "[", 
    RowBox[{
     RowBox[{"th1", "[", "t", "]"}], "-", 
     RowBox[{"th2", "[", "t", "]"}]}], "]"}], " ", 
   RowBox[{
    SuperscriptBox["l", "\[Prime]",
     MultilineFunction->None], "[", "t", "]"}], " ", 
   RowBox[{
    SuperscriptBox["th2", "\[Prime]",
     MultilineFunction->None], "[", "t", "]"}]}], "-", 
  RowBox[{"2", " ", "d1", " ", 
   RowBox[{"(", 
    RowBox[{
     RowBox[{"d2", " ", 
      RowBox[{"(", 
       RowBox[{"m2", "+", "m3"}], ")"}]}], "+", 
     RowBox[{"m3", " ", 
      RowBox[{"l", "[", "t", "]"}]}]}], ")"}], " ", 
   RowBox[{"Sin", "[", 
    RowBox[{
     RowBox[{"th1", "[", "t", "]"}], "-", 
     RowBox[{"th2", "[", "t", "]"}]}], "]"}], " ", 
   RowBox[{"(", 
    RowBox[{
     RowBox[{
      SuperscriptBox["th1", "\[Prime]",
       MultilineFunction->None], "[", "t", "]"}], "-", 
     RowBox[{
      SuperscriptBox["th2", "\[Prime]",
       MultilineFunction->None], "[", "t", "]"}]}], ")"}], " ", 
   RowBox[{
    SuperscriptBox["th2", "\[Prime]",
     MultilineFunction->None], "[", "t", "]"}]}], "+", 
  RowBox[{"2", " ", "d1", " ", "m3", " ", 
   RowBox[{"Cos", "[", 
    RowBox[{
     RowBox[{"th1", "[", "t", "]"}], "-", 
     RowBox[{"th2", "[", "t", "]"}]}], "]"}], " ", 
   RowBox[{
    SuperscriptBox["l", "\[Prime]",
     MultilineFunction->None], "[", "t", "]"}], " ", 
   RowBox[{"(", 
    RowBox[{
     RowBox[{"-", 
      RowBox[{
       SuperscriptBox["th1", "\[Prime]",
        MultilineFunction->None], "[", "t", "]"}]}], "+", 
     RowBox[{
      SuperscriptBox["th2", "\[Prime]",
       MultilineFunction->None], "[", "t", "]"}]}], ")"}]}], "-", 
  RowBox[{"2", " ", "d1", " ", "m3", " ", 
   RowBox[{"Sin", "[", 
    RowBox[{
     RowBox[{"th1", "[", "t", "]"}], "-", 
     RowBox[{"th2", "[", "t", "]"}]}], "]"}], " ", 
   RowBox[{
    SuperscriptBox["l", "\[Prime]\[Prime]",
     MultilineFunction->None], "[", "t", "]"}]}], "+", 
  RowBox[{
   RowBox[{"(", 
    RowBox[{"I1", "+", 
     RowBox[{
      SuperscriptBox["d1", "2"], " ", 
      RowBox[{"(", 
       RowBox[{"m1", "+", 
        RowBox[{"4", " ", 
         RowBox[{"(", 
          RowBox[{"m2", "+", "m3"}], ")"}]}]}], ")"}]}]}], ")"}], " ", 
   RowBox[{
    SuperscriptBox["th1", "\[Prime]\[Prime]",
     MultilineFunction->None], "[", "t", "]"}]}], "+", 
  RowBox[{"2", " ", "d1", " ", 
   RowBox[{"Cos", "[", 
    RowBox[{
     RowBox[{"th1", "[", "t", "]"}], "-", 
     RowBox[{"th2", "[", "t", "]"}]}], "]"}], " ", 
   RowBox[{"(", 
    RowBox[{
     RowBox[{"d2", " ", 
      RowBox[{"(", 
       RowBox[{"m2", "+", "m3"}], ")"}]}], "+", 
     RowBox[{"m3", " ", 
      RowBox[{"l", "[", "t", "]"}]}]}], ")"}], " ", 
   RowBox[{
    SuperscriptBox["th2", "\[Prime]\[Prime]",
     MultilineFunction->None], "[", "t", "]"}]}]}]], "Output",
 CellChangeTimes->{
  3.671955128065504*^9, 3.6719564001623363`*^9, 3.671963449549395*^9, 
   3.6719635067765923`*^9, 3.6719635989560184`*^9, 3.6719653843606033`*^9, 
   3.671965963773696*^9, 3.6719665205314374`*^9, {3.671986293480209*^9, 
   3.6719863112312174`*^9}, 3.67203145358886*^9}]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"dLdth2dotdot", "=", 
  RowBox[{"FullSimplify", "[", 
   RowBox[{"D", "[", 
    RowBox[{"dLdth2dot", ",", "t"}], "]"}], "]"}]}]], "Input",
 CellChangeTimes->{{3.613651286314248*^9, 3.6136513560042343`*^9}, {
   3.6236761195096107`*^9, 3.623676141666643*^9}, {3.62403133619506*^9, 
   3.6240313449707193`*^9}, {3.624031407827119*^9, 3.6240314119387455`*^9}, 
   3.6247126211408396`*^9, 3.624714528693473*^9, {3.6257580781305118`*^9, 
   3.6257580816906166`*^9}, {3.6719550613668365`*^9, 3.6719550875737653`*^9}}],

Cell[BoxData[
 RowBox[{
  RowBox[{"2", " ", "m3", " ", 
   RowBox[{
    SuperscriptBox["l", "\[Prime]",
     MultilineFunction->None], "[", "t", "]"}], " ", 
   RowBox[{"(", 
    RowBox[{
     RowBox[{"d1", " ", 
      RowBox[{"Cos", "[", 
       RowBox[{
        RowBox[{"th1", "[", "t", "]"}], "-", 
        RowBox[{"th2", "[", "t", "]"}]}], "]"}], " ", 
      RowBox[{
       SuperscriptBox["th1", "\[Prime]",
        MultilineFunction->None], "[", "t", "]"}]}], "+", 
     RowBox[{
      RowBox[{"(", 
       RowBox[{"d2", "+", 
        RowBox[{"l", "[", "t", "]"}]}], ")"}], " ", 
      RowBox[{
       SuperscriptBox["th2", "\[Prime]",
        MultilineFunction->None], "[", "t", "]"}]}]}], ")"}]}], "+", 
  RowBox[{"2", " ", "d1", " ", 
   RowBox[{"(", 
    RowBox[{
     RowBox[{"d2", " ", 
      RowBox[{"(", 
       RowBox[{"m2", "+", "m3"}], ")"}]}], "+", 
     RowBox[{"m3", " ", 
      RowBox[{"l", "[", "t", "]"}]}]}], ")"}], " ", 
   RowBox[{"(", 
    RowBox[{
     RowBox[{
      RowBox[{"Sin", "[", 
       RowBox[{
        RowBox[{"th1", "[", "t", "]"}], "-", 
        RowBox[{"th2", "[", "t", "]"}]}], "]"}], " ", 
      RowBox[{
       SuperscriptBox["th1", "\[Prime]",
        MultilineFunction->None], "[", "t", "]"}], " ", 
      RowBox[{"(", 
       RowBox[{
        RowBox[{"-", 
         RowBox[{
          SuperscriptBox["th1", "\[Prime]",
           MultilineFunction->None], "[", "t", "]"}]}], "+", 
        RowBox[{
         SuperscriptBox["th2", "\[Prime]",
          MultilineFunction->None], "[", "t", "]"}]}], ")"}]}], "+", 
     RowBox[{
      RowBox[{"Cos", "[", 
       RowBox[{
        RowBox[{"th1", "[", "t", "]"}], "-", 
        RowBox[{"th2", "[", "t", "]"}]}], "]"}], " ", 
      RowBox[{
       SuperscriptBox["th1", "\[Prime]\[Prime]",
        MultilineFunction->None], "[", "t", "]"}]}]}], ")"}]}], "+", 
  RowBox[{
   RowBox[{"(", 
    RowBox[{"I2", "+", "I3", "+", 
     RowBox[{
      SuperscriptBox["d2", "2"], " ", 
      RowBox[{"(", 
       RowBox[{"m2", "+", "m3"}], ")"}]}], "+", 
     RowBox[{"m3", " ", 
      RowBox[{"l", "[", "t", "]"}], " ", 
      RowBox[{"(", 
       RowBox[{
        RowBox[{"2", " ", "d2"}], "+", 
        RowBox[{"l", "[", "t", "]"}]}], ")"}]}]}], ")"}], " ", 
   RowBox[{
    SuperscriptBox["th2", "\[Prime]\[Prime]",
     MultilineFunction->None], "[", "t", "]"}]}]}]], "Output",
 CellChangeTimes->{
  3.6719551388129616`*^9, 3.6719564021738224`*^9, 3.671963451702411*^9, 
   3.6719635088388925`*^9, 3.671963600967663*^9, 3.6719653865233917`*^9, 
   3.671965965810666*^9, 3.6719665224814014`*^9, {3.6719862934897203`*^9, 
   3.6719863112472105`*^9}, 3.672031455222954*^9}]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"dLdldotdot", "=", 
  RowBox[{"FullSimplify", "[", 
   RowBox[{"D", "[", 
    RowBox[{"dLdldot", ",", "t"}], "]"}], "]"}]}]], "Input",
 CellChangeTimes->{{3.613651286314248*^9, 3.6136513560042343`*^9}, {
  3.6236761195096107`*^9, 3.623676141666643*^9}, {3.62403133619506*^9, 
  3.6240313449707193`*^9}, {3.6240314185315914`*^9, 3.624031428880643*^9}, {
  3.6247126237772446`*^9, 3.6247126413126755`*^9}, {3.625758118036748*^9, 
  3.6257581206178207`*^9}, {3.6719550682772884`*^9, 3.6719550951590214`*^9}}],

Cell[BoxData[
 RowBox[{"m3", " ", 
  RowBox[{"(", 
   RowBox[{
    RowBox[{"2", " ", "d1", " ", 
     RowBox[{"Cos", "[", 
      RowBox[{
       RowBox[{"th1", "[", "t", "]"}], "-", 
       RowBox[{"th2", "[", "t", "]"}]}], "]"}], " ", 
     RowBox[{
      SuperscriptBox["th1", "\[Prime]",
       MultilineFunction->None], "[", "t", "]"}], " ", 
     RowBox[{"(", 
      RowBox[{
       RowBox[{"-", 
        RowBox[{
         SuperscriptBox["th1", "\[Prime]",
          MultilineFunction->None], "[", "t", "]"}]}], "+", 
       RowBox[{
        SuperscriptBox["th2", "\[Prime]",
         MultilineFunction->None], "[", "t", "]"}]}], ")"}]}], "+", 
    RowBox[{
     SuperscriptBox["l", "\[Prime]\[Prime]",
      MultilineFunction->None], "[", "t", "]"}], "-", 
    RowBox[{"2", " ", "d1", " ", 
     RowBox[{"Sin", "[", 
      RowBox[{
       RowBox[{"th1", "[", "t", "]"}], "-", 
       RowBox[{"th2", "[", "t", "]"}]}], "]"}], " ", 
     RowBox[{
      SuperscriptBox["th1", "\[Prime]\[Prime]",
       MultilineFunction->None], "[", "t", "]"}]}]}], ")"}]}]], "Output",
 CellChangeTimes->{
  3.6719551422336226`*^9, 3.6719564023408537`*^9, 3.6719634519344187`*^9, 
   3.671963509033457*^9, 3.671963601176397*^9, 3.6719653867199926`*^9, 
   3.6719659660006633`*^9, 3.671966522668301*^9, {3.6719862935132604`*^9, 
   3.6719863112562428`*^9}, 3.672031455384963*^9}]
}, Open  ]]
}, Closed]],

Cell[CellGroupData[{

Cell["Lagrange Terms (dL/dq)", "Subsection",
 CellChangeTimes->{{3.624032112591076*^9, 3.6240321328941817`*^9}}],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"dLdth1", "=", 
  RowBox[{"FullSimplify", "[", 
   RowBox[{"D", "[", 
    RowBox[{"L", ",", 
     RowBox[{"th1", "[", "t", "]"}]}], "]"}], "]"}]}]], "Input",
 CellChangeTimes->{{3.613651488406807*^9, 3.6136515456360807`*^9}, {
  3.6236763970720387`*^9, 3.623676443690113*^9}, {3.6240315861525865`*^9, 
  3.624031594226629*^9}, {3.6247128822166996`*^9, 3.6247128848083043`*^9}, {
  3.6257584063071423`*^9, 3.6257584094982376`*^9}, {3.671955238453907*^9, 
  3.671955246790578*^9}}],

Cell[BoxData[
 RowBox[{
  RowBox[{"-", "d1"}], " ", 
  RowBox[{"(", 
   RowBox[{
    RowBox[{"g", " ", 
     RowBox[{"(", 
      RowBox[{"m1", "+", 
       RowBox[{"2", " ", 
        RowBox[{"(", 
         RowBox[{"m2", "+", "m3"}], ")"}]}]}], ")"}], " ", 
     RowBox[{"Sin", "[", 
      RowBox[{"th1", "[", "t", "]"}], "]"}]}], "+", 
    RowBox[{"2", " ", 
     RowBox[{
      SuperscriptBox["th1", "\[Prime]",
       MultilineFunction->None], "[", "t", "]"}], " ", 
     RowBox[{"(", 
      RowBox[{
       RowBox[{"m3", " ", 
        RowBox[{"Cos", "[", 
         RowBox[{
          RowBox[{"th1", "[", "t", "]"}], "-", 
          RowBox[{"th2", "[", "t", "]"}]}], "]"}], " ", 
        RowBox[{
         SuperscriptBox["l", "\[Prime]",
          MultilineFunction->None], "[", "t", "]"}]}], "+", 
       RowBox[{
        RowBox[{"(", 
         RowBox[{
          RowBox[{"d2", " ", 
           RowBox[{"(", 
            RowBox[{"m2", "+", "m3"}], ")"}]}], "+", 
          RowBox[{"m3", " ", 
           RowBox[{"l", "[", "t", "]"}]}]}], ")"}], " ", 
        RowBox[{"Sin", "[", 
         RowBox[{
          RowBox[{"th1", "[", "t", "]"}], "-", 
          RowBox[{"th2", "[", "t", "]"}]}], "]"}], " ", 
        RowBox[{
         SuperscriptBox["th2", "\[Prime]",
          MultilineFunction->None], "[", "t", "]"}]}]}], ")"}]}]}], 
   ")"}]}]], "Output",
 CellChangeTimes->{
  3.6719552835320644`*^9, 3.6719564034830704`*^9, 3.671963453192625*^9, 
   3.6719635101655912`*^9, 3.6719636023437343`*^9, 3.671965387836982*^9, 
   3.6719659671187496`*^9, 3.6719665233994265`*^9, {3.6719862937576013`*^9, 
   3.6719863112692547`*^9}, 3.672031456028*^9}]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"dLdth2", "=", 
  RowBox[{"FullSimplify", "[", 
   RowBox[{"D", "[", 
    RowBox[{"L", ",", 
     RowBox[{"th2", "[", "t", "]"}]}], "]"}], "]"}]}]], "Input",
 CellChangeTimes->{{3.613651488406807*^9, 3.6136515456360807`*^9}, {
  3.6236763970720387`*^9, 3.623676443690113*^9}, {3.6240315861525865`*^9, 
  3.624031594226629*^9}, {3.6240317217096453`*^9, 3.624031723781259*^9}, {
  3.624712901641734*^9, 3.62471290508934*^9}, {3.62575841481441*^9, 
  3.625758416554467*^9}, {3.671955253661482*^9, 3.671955260318926*^9}}],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"-", "d2"}], " ", "g", " ", 
   RowBox[{"(", 
    RowBox[{"m2", "+", "m3"}], ")"}], " ", 
   RowBox[{"Sin", "[", 
    RowBox[{"th2", "[", "t", "]"}], "]"}]}], "-", 
  RowBox[{"g", " ", "m3", " ", 
   RowBox[{"l", "[", "t", "]"}], " ", 
   RowBox[{"Sin", "[", 
    RowBox[{"th2", "[", "t", "]"}], "]"}]}], "+", 
  RowBox[{"2", " ", "d1", " ", "m3", " ", 
   RowBox[{"Cos", "[", 
    RowBox[{
     RowBox[{"th1", "[", "t", "]"}], "-", 
     RowBox[{"th2", "[", "t", "]"}]}], "]"}], " ", 
   RowBox[{
    SuperscriptBox["l", "\[Prime]",
     MultilineFunction->None], "[", "t", "]"}], " ", 
   RowBox[{
    SuperscriptBox["th1", "\[Prime]",
     MultilineFunction->None], "[", "t", "]"}]}], "+", 
  RowBox[{"2", " ", "d1", " ", 
   RowBox[{"(", 
    RowBox[{
     RowBox[{"d2", " ", 
      RowBox[{"(", 
       RowBox[{"m2", "+", "m3"}], ")"}]}], "+", 
     RowBox[{"m3", " ", 
      RowBox[{"l", "[", "t", "]"}]}]}], ")"}], " ", 
   RowBox[{"Sin", "[", 
    RowBox[{
     RowBox[{"th1", "[", "t", "]"}], "-", 
     RowBox[{"th2", "[", "t", "]"}]}], "]"}], " ", 
   RowBox[{
    SuperscriptBox["th1", "\[Prime]",
     MultilineFunction->None], "[", "t", "]"}], " ", 
   RowBox[{
    SuperscriptBox["th2", "\[Prime]",
     MultilineFunction->None], "[", "t", "]"}]}]}]], "Output",
 CellChangeTimes->{
  3.6719552864548297`*^9, 3.6719564042728386`*^9, 3.671963454138852*^9, 
   3.6719635109796424`*^9, 3.6719636031733837`*^9, 3.671965388682415*^9, 
   3.6719659679000287`*^9, 3.6719665241944294`*^9, {3.671986293838694*^9, 
   3.671986311281266*^9}, 3.6720314566420345`*^9}]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"dLdl", "=", 
  RowBox[{"FullSimplify", "[", 
   RowBox[{"D", "[", 
    RowBox[{"L", ",", 
     RowBox[{"l", "[", "t", "]"}]}], "]"}], "]"}]}]], "Input",
 CellChangeTimes->{{3.613651488406807*^9, 3.6136515456360807`*^9}, {
  3.6236763970720387`*^9, 3.623676443690113*^9}, {3.6240315861525865`*^9, 
  3.624031594226629*^9}, {3.6240317304499063`*^9, 3.6240317336123285`*^9}, {
  3.6247129167113605`*^9, 3.624712920191167*^9}, {3.6257584218986397`*^9, 
  3.6257584251387463`*^9}, {3.671955264029202*^9, 3.6719552704703045`*^9}}],

Cell[BoxData[
 RowBox[{
  RowBox[{"kspring", " ", "Lspring"}], "+", 
  RowBox[{"g", " ", "m3", " ", 
   RowBox[{"Cos", "[", 
    RowBox[{"th2", "[", "t", "]"}], "]"}]}], "-", 
  RowBox[{"kspring", " ", 
   RowBox[{"l", "[", "t", "]"}]}], "+", 
  RowBox[{"2", " ", "d1", " ", "m3", " ", 
   RowBox[{"Cos", "[", 
    RowBox[{
     RowBox[{"th1", "[", "t", "]"}], "-", 
     RowBox[{"th2", "[", "t", "]"}]}], "]"}], " ", 
   RowBox[{
    SuperscriptBox["th1", "\[Prime]",
     MultilineFunction->None], "[", "t", "]"}], " ", 
   RowBox[{
    SuperscriptBox["th2", "\[Prime]",
     MultilineFunction->None], "[", "t", "]"}]}], "+", 
  RowBox[{"m3", " ", 
   RowBox[{"(", 
    RowBox[{"d2", "+", 
     RowBox[{"l", "[", "t", "]"}]}], ")"}], " ", 
   SuperscriptBox[
    RowBox[{
     SuperscriptBox["th2", "\[Prime]",
      MultilineFunction->None], "[", "t", "]"}], "2"]}]}]], "Output",
 CellChangeTimes->{
  3.6719552894928737`*^9, 3.671956404637166*^9, 3.671963454489019*^9, 
   3.6719635112934666`*^9, 3.67196360348921*^9, 3.67196538900939*^9, 
   3.671965968222839*^9, 3.6719665244238834`*^9, {3.6719862939458466`*^9, 
   3.67198631129228*^9}, 3.6720314568290453`*^9}]
}, Open  ]]
}, Closed]],

Cell[CellGroupData[{

Cell["Left Hand Side of EOM", "Subsection",
 CellChangeTimes->{{3.6240321602279477`*^9, 3.6240321787602587`*^9}, {
  3.6247885771686325`*^9, 3.624788583939045*^9}}],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"lhs1", "=", 
  RowBox[{"dLdth1dotdot", "-", "dLdth1"}]}]], "Input",
 CellChangeTimes->{{3.6136571083512497`*^9, 3.6136572174404893`*^9}, {
   3.623677334270193*^9, 3.6236773726952524`*^9}, {3.624342929176984*^9, 
   3.6243429523433084`*^9}, {3.624714329923463*^9, 3.624714332969468*^9}, 
   3.624788811967249*^9, {3.625758807399437*^9, 3.625758810865548*^9}, {
   3.671955307549678*^9, 3.6719553142467055`*^9}}],

Cell[BoxData[
 RowBox[{
  RowBox[{"2", " ", "d1", " ", "m3", " ", 
   RowBox[{"Cos", "[", 
    RowBox[{
     RowBox[{"th1", "[", "t", "]"}], "-", 
     RowBox[{"th2", "[", "t", "]"}]}], "]"}], " ", 
   RowBox[{
    SuperscriptBox["l", "\[Prime]",
     MultilineFunction->None], "[", "t", "]"}], " ", 
   RowBox[{
    SuperscriptBox["th2", "\[Prime]",
     MultilineFunction->None], "[", "t", "]"}]}], "-", 
  RowBox[{"2", " ", "d1", " ", 
   RowBox[{"(", 
    RowBox[{
     RowBox[{"d2", " ", 
      RowBox[{"(", 
       RowBox[{"m2", "+", "m3"}], ")"}]}], "+", 
     RowBox[{"m3", " ", 
      RowBox[{"l", "[", "t", "]"}]}]}], ")"}], " ", 
   RowBox[{"Sin", "[", 
    RowBox[{
     RowBox[{"th1", "[", "t", "]"}], "-", 
     RowBox[{"th2", "[", "t", "]"}]}], "]"}], " ", 
   RowBox[{"(", 
    RowBox[{
     RowBox[{
      SuperscriptBox["th1", "\[Prime]",
       MultilineFunction->None], "[", "t", "]"}], "-", 
     RowBox[{
      SuperscriptBox["th2", "\[Prime]",
       MultilineFunction->None], "[", "t", "]"}]}], ")"}], " ", 
   RowBox[{
    SuperscriptBox["th2", "\[Prime]",
     MultilineFunction->None], "[", "t", "]"}]}], "+", 
  RowBox[{"2", " ", "d1", " ", "m3", " ", 
   RowBox[{"Cos", "[", 
    RowBox[{
     RowBox[{"th1", "[", "t", "]"}], "-", 
     RowBox[{"th2", "[", "t", "]"}]}], "]"}], " ", 
   RowBox[{
    SuperscriptBox["l", "\[Prime]",
     MultilineFunction->None], "[", "t", "]"}], " ", 
   RowBox[{"(", 
    RowBox[{
     RowBox[{"-", 
      RowBox[{
       SuperscriptBox["th1", "\[Prime]",
        MultilineFunction->None], "[", "t", "]"}]}], "+", 
     RowBox[{
      SuperscriptBox["th2", "\[Prime]",
       MultilineFunction->None], "[", "t", "]"}]}], ")"}]}], "+", 
  RowBox[{"d1", " ", 
   RowBox[{"(", 
    RowBox[{
     RowBox[{"g", " ", 
      RowBox[{"(", 
       RowBox[{"m1", "+", 
        RowBox[{"2", " ", 
         RowBox[{"(", 
          RowBox[{"m2", "+", "m3"}], ")"}]}]}], ")"}], " ", 
      RowBox[{"Sin", "[", 
       RowBox[{"th1", "[", "t", "]"}], "]"}]}], "+", 
     RowBox[{"2", " ", 
      RowBox[{
       SuperscriptBox["th1", "\[Prime]",
        MultilineFunction->None], "[", "t", "]"}], " ", 
      RowBox[{"(", 
       RowBox[{
        RowBox[{"m3", " ", 
         RowBox[{"Cos", "[", 
          RowBox[{
           RowBox[{"th1", "[", "t", "]"}], "-", 
           RowBox[{"th2", "[", "t", "]"}]}], "]"}], " ", 
         RowBox[{
          SuperscriptBox["l", "\[Prime]",
           MultilineFunction->None], "[", "t", "]"}]}], "+", 
        RowBox[{
         RowBox[{"(", 
          RowBox[{
           RowBox[{"d2", " ", 
            RowBox[{"(", 
             RowBox[{"m2", "+", "m3"}], ")"}]}], "+", 
           RowBox[{"m3", " ", 
            RowBox[{"l", "[", "t", "]"}]}]}], ")"}], " ", 
         RowBox[{"Sin", "[", 
          RowBox[{
           RowBox[{"th1", "[", "t", "]"}], "-", 
           RowBox[{"th2", "[", "t", "]"}]}], "]"}], " ", 
         RowBox[{
          SuperscriptBox["th2", "\[Prime]",
           MultilineFunction->None], "[", "t", "]"}]}]}], ")"}]}]}], ")"}]}], 
  "-", 
  RowBox[{"2", " ", "d1", " ", "m3", " ", 
   RowBox[{"Sin", "[", 
    RowBox[{
     RowBox[{"th1", "[", "t", "]"}], "-", 
     RowBox[{"th2", "[", "t", "]"}]}], "]"}], " ", 
   RowBox[{
    SuperscriptBox["l", "\[Prime]\[Prime]",
     MultilineFunction->None], "[", "t", "]"}]}], "+", 
  RowBox[{
   RowBox[{"(", 
    RowBox[{"I1", "+", 
     RowBox[{
      SuperscriptBox["d1", "2"], " ", 
      RowBox[{"(", 
       RowBox[{"m1", "+", 
        RowBox[{"4", " ", 
         RowBox[{"(", 
          RowBox[{"m2", "+", "m3"}], ")"}]}]}], ")"}]}]}], ")"}], " ", 
   RowBox[{
    SuperscriptBox["th1", "\[Prime]\[Prime]",
     MultilineFunction->None], "[", "t", "]"}]}], "+", 
  RowBox[{"2", " ", "d1", " ", 
   RowBox[{"Cos", "[", 
    RowBox[{
     RowBox[{"th1", "[", "t", "]"}], "-", 
     RowBox[{"th2", "[", "t", "]"}]}], "]"}], " ", 
   RowBox[{"(", 
    RowBox[{
     RowBox[{"d2", " ", 
      RowBox[{"(", 
       RowBox[{"m2", "+", "m3"}], ")"}]}], "+", 
     RowBox[{"m3", " ", 
      RowBox[{"l", "[", "t", "]"}]}]}], ")"}], " ", 
   RowBox[{
    SuperscriptBox["th2", "\[Prime]\[Prime]",
     MultilineFunction->None], "[", "t", "]"}]}]}]], "Output",
 CellChangeTimes->{
  3.6719553522502804`*^9, 3.6719564046833572`*^9, 3.6719634545411077`*^9, 
   3.6719635113309164`*^9, 3.6719636035272665`*^9, 3.671965389039919*^9, 
   3.671965968250481*^9, 3.671966524439508*^9, {3.671986293965861*^9, 
   3.6719863113073196`*^9}, 3.6720314568500466`*^9}]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"lhs2", "=", 
  RowBox[{"dLdth2dotdot", "-", "dLdth2"}]}]], "Input",
 CellChangeTimes->{{3.624344999599405*^9, 3.624345006070775*^9}, {
   3.6247143401972814`*^9, 3.624714341445284*^9}, 3.6247888147128534`*^9, {
   3.6257588181387835`*^9, 3.625758819721835*^9}, {3.671955319917239*^9, 
   3.671955324374236*^9}}],

Cell[BoxData[
 RowBox[{
  RowBox[{"d2", " ", "g", " ", 
   RowBox[{"(", 
    RowBox[{"m2", "+", "m3"}], ")"}], " ", 
   RowBox[{"Sin", "[", 
    RowBox[{"th2", "[", "t", "]"}], "]"}]}], "+", 
  RowBox[{"g", " ", "m3", " ", 
   RowBox[{"l", "[", "t", "]"}], " ", 
   RowBox[{"Sin", "[", 
    RowBox[{"th2", "[", "t", "]"}], "]"}]}], "-", 
  RowBox[{"2", " ", "d1", " ", "m3", " ", 
   RowBox[{"Cos", "[", 
    RowBox[{
     RowBox[{"th1", "[", "t", "]"}], "-", 
     RowBox[{"th2", "[", "t", "]"}]}], "]"}], " ", 
   RowBox[{
    SuperscriptBox["l", "\[Prime]",
     MultilineFunction->None], "[", "t", "]"}], " ", 
   RowBox[{
    SuperscriptBox["th1", "\[Prime]",
     MultilineFunction->None], "[", "t", "]"}]}], "-", 
  RowBox[{"2", " ", "d1", " ", 
   RowBox[{"(", 
    RowBox[{
     RowBox[{"d2", " ", 
      RowBox[{"(", 
       RowBox[{"m2", "+", "m3"}], ")"}]}], "+", 
     RowBox[{"m3", " ", 
      RowBox[{"l", "[", "t", "]"}]}]}], ")"}], " ", 
   RowBox[{"Sin", "[", 
    RowBox[{
     RowBox[{"th1", "[", "t", "]"}], "-", 
     RowBox[{"th2", "[", "t", "]"}]}], "]"}], " ", 
   RowBox[{
    SuperscriptBox["th1", "\[Prime]",
     MultilineFunction->None], "[", "t", "]"}], " ", 
   RowBox[{
    SuperscriptBox["th2", "\[Prime]",
     MultilineFunction->None], "[", "t", "]"}]}], "+", 
  RowBox[{"2", " ", "m3", " ", 
   RowBox[{
    SuperscriptBox["l", "\[Prime]",
     MultilineFunction->None], "[", "t", "]"}], " ", 
   RowBox[{"(", 
    RowBox[{
     RowBox[{"d1", " ", 
      RowBox[{"Cos", "[", 
       RowBox[{
        RowBox[{"th1", "[", "t", "]"}], "-", 
        RowBox[{"th2", "[", "t", "]"}]}], "]"}], " ", 
      RowBox[{
       SuperscriptBox["th1", "\[Prime]",
        MultilineFunction->None], "[", "t", "]"}]}], "+", 
     RowBox[{
      RowBox[{"(", 
       RowBox[{"d2", "+", 
        RowBox[{"l", "[", "t", "]"}]}], ")"}], " ", 
      RowBox[{
       SuperscriptBox["th2", "\[Prime]",
        MultilineFunction->None], "[", "t", "]"}]}]}], ")"}]}], "+", 
  RowBox[{"2", " ", "d1", " ", 
   RowBox[{"(", 
    RowBox[{
     RowBox[{"d2", " ", 
      RowBox[{"(", 
       RowBox[{"m2", "+", "m3"}], ")"}]}], "+", 
     RowBox[{"m3", " ", 
      RowBox[{"l", "[", "t", "]"}]}]}], ")"}], " ", 
   RowBox[{"(", 
    RowBox[{
     RowBox[{
      RowBox[{"Sin", "[", 
       RowBox[{
        RowBox[{"th1", "[", "t", "]"}], "-", 
        RowBox[{"th2", "[", "t", "]"}]}], "]"}], " ", 
      RowBox[{
       SuperscriptBox["th1", "\[Prime]",
        MultilineFunction->None], "[", "t", "]"}], " ", 
      RowBox[{"(", 
       RowBox[{
        RowBox[{"-", 
         RowBox[{
          SuperscriptBox["th1", "\[Prime]",
           MultilineFunction->None], "[", "t", "]"}]}], "+", 
        RowBox[{
         SuperscriptBox["th2", "\[Prime]",
          MultilineFunction->None], "[", "t", "]"}]}], ")"}]}], "+", 
     RowBox[{
      RowBox[{"Cos", "[", 
       RowBox[{
        RowBox[{"th1", "[", "t", "]"}], "-", 
        RowBox[{"th2", "[", "t", "]"}]}], "]"}], " ", 
      RowBox[{
       SuperscriptBox["th1", "\[Prime]\[Prime]",
        MultilineFunction->None], "[", "t", "]"}]}]}], ")"}]}], "+", 
  RowBox[{
   RowBox[{"(", 
    RowBox[{"I2", "+", "I3", "+", 
     RowBox[{
      SuperscriptBox["d2", "2"], " ", 
      RowBox[{"(", 
       RowBox[{"m2", "+", "m3"}], ")"}]}], "+", 
     RowBox[{"m3", " ", 
      RowBox[{"l", "[", "t", "]"}], " ", 
      RowBox[{"(", 
       RowBox[{
        RowBox[{"2", " ", "d2"}], "+", 
        RowBox[{"l", "[", "t", "]"}]}], ")"}]}]}], ")"}], " ", 
   RowBox[{
    SuperscriptBox["th2", "\[Prime]\[Prime]",
     MultilineFunction->None], "[", "t", "]"}]}]}]], "Output",
 CellChangeTimes->{
  3.6719553551788855`*^9, 3.6719564046858587`*^9, 3.67196345455262*^9, 
   3.671963511355426*^9, 3.6719636035457926`*^9, 3.6719653890575953`*^9, 
   3.6719659682661037`*^9, 3.6719665244707737`*^9, {3.6719862939798765`*^9, 
   3.671986311321893*^9}, 3.672031456866048*^9}]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"lhs3", "=", 
  RowBox[{"dLdldotdot", "-", "dLdl"}]}]], "Input",
 CellChangeTimes->{{3.6243452929611845`*^9, 3.6243453032157707`*^9}, {
   3.6247143497660985`*^9, 3.6247143515289016`*^9}, 3.624788816226056*^9, {
   3.6257588269390707`*^9, 3.62575882851412*^9}, {3.6719553341332717`*^9, 
   3.671955336989369*^9}}],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"-", "kspring"}], " ", "Lspring"}], "-", 
  RowBox[{"g", " ", "m3", " ", 
   RowBox[{"Cos", "[", 
    RowBox[{"th2", "[", "t", "]"}], "]"}]}], "+", 
  RowBox[{"kspring", " ", 
   RowBox[{"l", "[", "t", "]"}]}], "-", 
  RowBox[{"2", " ", "d1", " ", "m3", " ", 
   RowBox[{"Cos", "[", 
    RowBox[{
     RowBox[{"th1", "[", "t", "]"}], "-", 
     RowBox[{"th2", "[", "t", "]"}]}], "]"}], " ", 
   RowBox[{
    SuperscriptBox["th1", "\[Prime]",
     MultilineFunction->None], "[", "t", "]"}], " ", 
   RowBox[{
    SuperscriptBox["th2", "\[Prime]",
     MultilineFunction->None], "[", "t", "]"}]}], "-", 
  RowBox[{"m3", " ", 
   RowBox[{"(", 
    RowBox[{"d2", "+", 
     RowBox[{"l", "[", "t", "]"}]}], ")"}], " ", 
   SuperscriptBox[
    RowBox[{
     SuperscriptBox["th2", "\[Prime]",
      MultilineFunction->None], "[", "t", "]"}], "2"]}], "+", 
  RowBox[{"m3", " ", 
   RowBox[{"(", 
    RowBox[{
     RowBox[{"2", " ", "d1", " ", 
      RowBox[{"Cos", "[", 
       RowBox[{
        RowBox[{"th1", "[", "t", "]"}], "-", 
        RowBox[{"th2", "[", "t", "]"}]}], "]"}], " ", 
      RowBox[{
       SuperscriptBox["th1", "\[Prime]",
        MultilineFunction->None], "[", "t", "]"}], " ", 
      RowBox[{"(", 
       RowBox[{
        RowBox[{"-", 
         RowBox[{
          SuperscriptBox["th1", "\[Prime]",
           MultilineFunction->None], "[", "t", "]"}]}], "+", 
        RowBox[{
         SuperscriptBox["th2", "\[Prime]",
          MultilineFunction->None], "[", "t", "]"}]}], ")"}]}], "+", 
     RowBox[{
      SuperscriptBox["l", "\[Prime]\[Prime]",
       MultilineFunction->None], "[", "t", "]"}], "-", 
     RowBox[{"2", " ", "d1", " ", 
      RowBox[{"Sin", "[", 
       RowBox[{
        RowBox[{"th1", "[", "t", "]"}], "-", 
        RowBox[{"th2", "[", "t", "]"}]}], "]"}], " ", 
      RowBox[{
       SuperscriptBox["th1", "\[Prime]\[Prime]",
        MultilineFunction->None], "[", "t", "]"}]}]}], ")"}]}]}]], "Output",
 CellChangeTimes->{
  3.671955357898984*^9, 3.671956404704286*^9, 3.671963454564638*^9, 
   3.6719635113559256`*^9, 3.67196360356537*^9, 3.6719653890575953`*^9, 
   3.6719659682817297`*^9, 3.671966524486408*^9, {3.6719862939958935`*^9, 
   3.6719863113389115`*^9}, 3.672031456881048*^9}]
}, Open  ]]
}, Closed]],

Cell[CellGroupData[{

Cell["Generalized Forces", "Subsection",
 CellChangeTimes->{{3.624787792484736*^9, 3.6247878061427603`*^9}, 
   3.624788520120932*^9}],

Cell[TextData[StyleBox["Power from external forces and torques",
 FontWeight->"Bold"]], "Text",
 CellChangeTimes->{{3.6247878210417867`*^9, 3.6247878426850247`*^9}, {
  3.6257592208968086`*^9, 3.625759221824845*^9}}],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"Pt", "=", 
  RowBox[{"Simplify", "[", 
   RowBox[{
    RowBox[{"tau1", " ", 
     RowBox[{
      RowBox[{"th1", "'"}], "[", "t", "]"}]}], "+", 
    RowBox[{"tau2", " ", 
     RowBox[{
      RowBox[{"th2", "'"}], "[", "t", "]"}]}], "+", 
    RowBox[{"Fx", " ", "xfdot"}], "+", 
    RowBox[{"Fy", " ", "yfdot"}]}], "]"}]}]], "Input",
 CellChangeTimes->{{3.6247879921046777`*^9, 3.6247881465869513`*^9}, 
   3.624788190293249*^9, {3.625075919811882*^9, 3.625075926283004*^9}, {
   3.6250767021813774`*^9, 3.625076720675435*^9}, {3.6257589683244224`*^9, 
   3.6257590466091213`*^9}, {3.629265686281669*^9, 3.629265713832308*^9}, {
   3.67195542039386*^9, 3.6719554679902334`*^9}, {3.6719632788256645`*^9, 
   3.671963299475319*^9}, {3.6719659290069437`*^9, 3.6719659346073694`*^9}, {
   3.672031418584858*^9, 3.6720314279683948`*^9}}],

Cell[BoxData[
 RowBox[{
  RowBox[{"tau1", " ", 
   RowBox[{
    SuperscriptBox["th1", "\[Prime]",
     MultilineFunction->None], "[", "t", "]"}]}], "+", 
  RowBox[{"tau2", " ", 
   RowBox[{
    SuperscriptBox["th2", "\[Prime]",
     MultilineFunction->None], "[", "t", "]"}]}], "+", 
  RowBox[{"Fx", " ", 
   RowBox[{"(", 
    RowBox[{
     RowBox[{
      RowBox[{"Sin", "[", 
       RowBox[{"th2", "[", "t", "]"}], "]"}], " ", 
      RowBox[{
       SuperscriptBox["l", "\[Prime]",
        MultilineFunction->None], "[", "t", "]"}]}], "+", 
     RowBox[{"2", " ", "d1", " ", 
      RowBox[{"Cos", "[", 
       RowBox[{"th1", "[", "t", "]"}], "]"}], " ", 
      RowBox[{
       SuperscriptBox["th1", "\[Prime]",
        MultilineFunction->None], "[", "t", "]"}]}], "+", 
     RowBox[{
      RowBox[{"Cos", "[", 
       RowBox[{"th2", "[", "t", "]"}], "]"}], " ", 
      RowBox[{"(", 
       RowBox[{"d2", "+", "d3", "+", 
        RowBox[{"l", "[", "t", "]"}]}], ")"}], " ", 
      RowBox[{
       SuperscriptBox["th2", "\[Prime]",
        MultilineFunction->None], "[", "t", "]"}]}]}], ")"}]}], "+", 
  RowBox[{"Fy", " ", 
   RowBox[{"(", 
    RowBox[{
     RowBox[{
      RowBox[{"-", 
       RowBox[{"Cos", "[", 
        RowBox[{"th2", "[", "t", "]"}], "]"}]}], " ", 
      RowBox[{
       SuperscriptBox["l", "\[Prime]",
        MultilineFunction->None], "[", "t", "]"}]}], "+", 
     RowBox[{"2", " ", "d1", " ", 
      RowBox[{"Sin", "[", 
       RowBox[{"th1", "[", "t", "]"}], "]"}], " ", 
      RowBox[{
       SuperscriptBox["th1", "\[Prime]",
        MultilineFunction->None], "[", "t", "]"}]}], "+", 
     RowBox[{
      RowBox[{"(", 
       RowBox[{"d2", "+", "d3", "+", 
        RowBox[{"l", "[", "t", "]"}]}], ")"}], " ", 
      RowBox[{"Sin", "[", 
       RowBox[{"th2", "[", "t", "]"}], "]"}], " ", 
      RowBox[{
       SuperscriptBox["th2", "\[Prime]",
        MultilineFunction->None], "[", "t", "]"}]}]}], ")"}]}]}]], "Output",
 CellChangeTimes->{
  3.6719555444144287`*^9, 3.671956404934497*^9, 3.6719634548186493`*^9, 
   3.6719635115701838`*^9, 3.671963603765369*^9, 3.6719653893197126`*^9, 
   3.671965968482337*^9, 3.6719665246713715`*^9, {3.6719862940057936`*^9, 
   3.671986311352921*^9}, 3.6720314570150557`*^9}]
}, Open  ]],

Cell[TextData[StyleBox["Rayleigh Function",
 FontWeight->"Bold"]], "Text",
 CellChangeTimes->{{3.625248649224968*^9, 3.6252486725335665`*^9}}],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"Pc", "=", 
  RowBox[{"Simplify", "[", 
   RowBox[{
    RowBox[{"1", "/", "2"}], "bspring", " ", 
    RowBox[{
     RowBox[{
      RowBox[{"l", "'"}], "[", "t", "]"}], "^", "2"}]}], "]"}]}]], "Input",
 CellChangeTimes->{{3.625248733936188*^9, 3.6252488777849135`*^9}, {
  3.625248919168992*^9, 3.625248964958168*^9}, {3.625759125348055*^9, 
  3.6257591273651342`*^9}, {3.625759158196342*^9, 3.625759200477005*^9}, {
  3.6257592574132648`*^9, 3.62575925803729*^9}, {3.6292657681145988`*^9, 
  3.629265817872758*^9}, {3.6719555876699967`*^9, 3.6719555889903173`*^9}, {
  3.671963336878314*^9, 3.671963338694333*^9}}],

Cell[BoxData[
 RowBox[{
  FractionBox["1", "2"], " ", "bspring", " ", 
  SuperscriptBox[
   RowBox[{
    SuperscriptBox["l", "\[Prime]",
     MultilineFunction->None], "[", "t", "]"}], "2"]}]], "Output",
 CellChangeTimes->{
  3.6719556043203897`*^9, 3.671956404936019*^9, 3.671963454825656*^9, 
   3.6719635115781946`*^9, 3.6719636037856874`*^9, 3.671965389339847*^9, 
   3.6719659684979687`*^9, 3.671966524686968*^9, {3.671986294019808*^9, 
   3.671986311363933*^9}, 3.672031457030057*^9}]
}, Open  ]],

Cell[TextData[StyleBox["Right Hand Side of EOM",
 FontWeight->"Bold"]], "Text",
 CellChangeTimes->{{3.625248994269927*^9, 3.6252490131894073`*^9}}],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"Q1", "=", 
  RowBox[{"D", "[", 
   RowBox[{
    RowBox[{"Pt", "-", "Pc"}], ",", 
    RowBox[{
     RowBox[{"th1", "'"}], "[", "t", "]"}]}], "]"}]}]], "Input",
 CellChangeTimes->{{3.6247882757896996`*^9, 3.6247883021597457`*^9}, {
   3.62524904678855*^9, 3.6252490486075983`*^9}, 3.625759284875338*^9, {
   3.671955628142243*^9, 3.6719556288952475`*^9}}],

Cell[BoxData[
 RowBox[{"tau1", "+", 
  RowBox[{"2", " ", "d1", " ", "Fx", " ", 
   RowBox[{"Cos", "[", 
    RowBox[{"th1", "[", "t", "]"}], "]"}]}], "+", 
  RowBox[{"2", " ", "d1", " ", "Fy", " ", 
   RowBox[{"Sin", "[", 
    RowBox[{"th1", "[", "t", "]"}], "]"}]}]}]], "Output",
 CellChangeTimes->{
  3.671955668632861*^9, 3.671956404936019*^9, 3.6719634548467355`*^9, 
   3.6719635115852017`*^9, 3.6719636038093486`*^9, 3.6719653893418503`*^9, 
   3.6719659684979687`*^9, 3.671966524686968*^9, {3.6719862940298166`*^9, 
   3.6719863113749456`*^9}, 3.6720314570450573`*^9}]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"Q2", "=", 
  RowBox[{"D", "[", 
   RowBox[{
    RowBox[{"Pt", "-", "Pc"}], ",", 
    RowBox[{
     RowBox[{"th2", "'"}], "[", "t", "]"}]}], "]"}]}]], "Input",
 CellChangeTimes->{{3.624788326487189*^9, 3.624788332290399*^9}, 
   3.625249055680786*^9, 3.6257593012439356`*^9, {3.671955649574148*^9, 
   3.6719556506794243`*^9}}],

Cell[BoxData[
 RowBox[{"tau2", "+", 
  RowBox[{"Fx", " ", 
   RowBox[{"Cos", "[", 
    RowBox[{"th2", "[", "t", "]"}], "]"}], " ", 
   RowBox[{"(", 
    RowBox[{"d2", "+", "d3", "+", 
     RowBox[{"l", "[", "t", "]"}]}], ")"}]}], "+", 
  RowBox[{"Fy", " ", 
   RowBox[{"(", 
    RowBox[{"d2", "+", "d3", "+", 
     RowBox[{"l", "[", "t", "]"}]}], ")"}], " ", 
   RowBox[{"Sin", "[", 
    RowBox[{"th2", "[", "t", "]"}], "]"}]}]}]], "Output",
 CellChangeTimes->{
  3.6719556720659704`*^9, 3.67195640495205*^9, 3.6719634548537483`*^9, 
   3.6719635115852017`*^9, 3.6719636038158536`*^9, 3.671965389357477*^9, 
   3.671965968513564*^9, 3.671966524702594*^9, {3.6719862940398264`*^9, 
   3.6719863113879557`*^9}, 3.6720314570580587`*^9}]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"Q3", "=", 
  RowBox[{"D", "[", 
   RowBox[{
    RowBox[{"Pt", "-", "Pc"}], ",", 
    RowBox[{
     RowBox[{"l", "'"}], "[", "t", "]"}]}], "]"}]}]], "Input",
 CellChangeTimes->{{3.624788339560012*^9, 3.624788342949218*^9}, 
   3.625249057438835*^9, 3.6257593094112415`*^9, 3.6719556588637896`*^9}],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"-", "Fy"}], " ", 
   RowBox[{"Cos", "[", 
    RowBox[{"th2", "[", "t", "]"}], "]"}]}], "+", 
  RowBox[{"Fx", " ", 
   RowBox[{"Sin", "[", 
    RowBox[{"th2", "[", "t", "]"}], "]"}]}], "-", 
  RowBox[{"bspring", " ", 
   RowBox[{
    SuperscriptBox["l", "\[Prime]",
     MultilineFunction->None], "[", "t", "]"}]}]}]], "Output",
 CellChangeTimes->{
  3.671955674824525*^9, 3.67195640495205*^9, 3.6719634548607597`*^9, 
   3.671963511601822*^9, 3.6719636038158536`*^9, 3.671965389357477*^9, 
   3.671965968513564*^9, 3.6719665247241406`*^9, {3.6719862940528393`*^9, 
   3.671986311399968*^9}, 3.672031457072059*^9}]
}, Open  ]]
}, Closed]],

Cell[CellGroupData[{

Cell["EOM", "Subsection",
 CellChangeTimes->{3.6247886231413145`*^9, 3.624788796281221*^9}],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"lhs1", "\[Equal]", "Q1"}]], "Input",
 CellChangeTimes->{{3.624788829987281*^9, 3.6247888405232997`*^9}}],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"2", " ", "d1", " ", "m3", " ", 
    RowBox[{"Cos", "[", 
     RowBox[{
      RowBox[{"th1", "[", "t", "]"}], "-", 
      RowBox[{"th2", "[", "t", "]"}]}], "]"}], " ", 
    RowBox[{
     SuperscriptBox["l", "\[Prime]",
      MultilineFunction->None], "[", "t", "]"}], " ", 
    RowBox[{
     SuperscriptBox["th2", "\[Prime]",
      MultilineFunction->None], "[", "t", "]"}]}], "-", 
   RowBox[{"2", " ", "d1", " ", 
    RowBox[{"(", 
     RowBox[{
      RowBox[{"d2", " ", 
       RowBox[{"(", 
        RowBox[{"m2", "+", "m3"}], ")"}]}], "+", 
      RowBox[{"m3", " ", 
       RowBox[{"l", "[", "t", "]"}]}]}], ")"}], " ", 
    RowBox[{"Sin", "[", 
     RowBox[{
      RowBox[{"th1", "[", "t", "]"}], "-", 
      RowBox[{"th2", "[", "t", "]"}]}], "]"}], " ", 
    RowBox[{"(", 
     RowBox[{
      RowBox[{
       SuperscriptBox["th1", "\[Prime]",
        MultilineFunction->None], "[", "t", "]"}], "-", 
      RowBox[{
       SuperscriptBox["th2", "\[Prime]",
        MultilineFunction->None], "[", "t", "]"}]}], ")"}], " ", 
    RowBox[{
     SuperscriptBox["th2", "\[Prime]",
      MultilineFunction->None], "[", "t", "]"}]}], "+", 
   RowBox[{"2", " ", "d1", " ", "m3", " ", 
    RowBox[{"Cos", "[", 
     RowBox[{
      RowBox[{"th1", "[", "t", "]"}], "-", 
      RowBox[{"th2", "[", "t", "]"}]}], "]"}], " ", 
    RowBox[{
     SuperscriptBox["l", "\[Prime]",
      MultilineFunction->None], "[", "t", "]"}], " ", 
    RowBox[{"(", 
     RowBox[{
      RowBox[{"-", 
       RowBox[{
        SuperscriptBox["th1", "\[Prime]",
         MultilineFunction->None], "[", "t", "]"}]}], "+", 
      RowBox[{
       SuperscriptBox["th2", "\[Prime]",
        MultilineFunction->None], "[", "t", "]"}]}], ")"}]}], "+", 
   RowBox[{"d1", " ", 
    RowBox[{"(", 
     RowBox[{
      RowBox[{"g", " ", 
       RowBox[{"(", 
        RowBox[{"m1", "+", 
         RowBox[{"2", " ", 
          RowBox[{"(", 
           RowBox[{"m2", "+", "m3"}], ")"}]}]}], ")"}], " ", 
       RowBox[{"Sin", "[", 
        RowBox[{"th1", "[", "t", "]"}], "]"}]}], "+", 
      RowBox[{"2", " ", 
       RowBox[{
        SuperscriptBox["th1", "\[Prime]",
         MultilineFunction->None], "[", "t", "]"}], " ", 
       RowBox[{"(", 
        RowBox[{
         RowBox[{"m3", " ", 
          RowBox[{"Cos", "[", 
           RowBox[{
            RowBox[{"th1", "[", "t", "]"}], "-", 
            RowBox[{"th2", "[", "t", "]"}]}], "]"}], " ", 
          RowBox[{
           SuperscriptBox["l", "\[Prime]",
            MultilineFunction->None], "[", "t", "]"}]}], "+", 
         RowBox[{
          RowBox[{"(", 
           RowBox[{
            RowBox[{"d2", " ", 
             RowBox[{"(", 
              RowBox[{"m2", "+", "m3"}], ")"}]}], "+", 
            RowBox[{"m3", " ", 
             RowBox[{"l", "[", "t", "]"}]}]}], ")"}], " ", 
          RowBox[{"Sin", "[", 
           RowBox[{
            RowBox[{"th1", "[", "t", "]"}], "-", 
            RowBox[{"th2", "[", "t", "]"}]}], "]"}], " ", 
          RowBox[{
           SuperscriptBox["th2", "\[Prime]",
            MultilineFunction->None], "[", "t", "]"}]}]}], ")"}]}]}], ")"}]}],
    "-", 
   RowBox[{"2", " ", "d1", " ", "m3", " ", 
    RowBox[{"Sin", "[", 
     RowBox[{
      RowBox[{"th1", "[", "t", "]"}], "-", 
      RowBox[{"th2", "[", "t", "]"}]}], "]"}], " ", 
    RowBox[{
     SuperscriptBox["l", "\[Prime]\[Prime]",
      MultilineFunction->None], "[", "t", "]"}]}], "+", 
   RowBox[{
    RowBox[{"(", 
     RowBox[{"I1", "+", 
      RowBox[{
       SuperscriptBox["d1", "2"], " ", 
       RowBox[{"(", 
        RowBox[{"m1", "+", 
         RowBox[{"4", " ", 
          RowBox[{"(", 
           RowBox[{"m2", "+", "m3"}], ")"}]}]}], ")"}]}]}], ")"}], " ", 
    RowBox[{
     SuperscriptBox["th1", "\[Prime]\[Prime]",
      MultilineFunction->None], "[", "t", "]"}]}], "+", 
   RowBox[{"2", " ", "d1", " ", 
    RowBox[{"Cos", "[", 
     RowBox[{
      RowBox[{"th1", "[", "t", "]"}], "-", 
      RowBox[{"th2", "[", "t", "]"}]}], "]"}], " ", 
    RowBox[{"(", 
     RowBox[{
      RowBox[{"d2", " ", 
       RowBox[{"(", 
        RowBox[{"m2", "+", "m3"}], ")"}]}], "+", 
      RowBox[{"m3", " ", 
       RowBox[{"l", "[", "t", "]"}]}]}], ")"}], " ", 
    RowBox[{
     SuperscriptBox["th2", "\[Prime]\[Prime]",
      MultilineFunction->None], "[", "t", "]"}]}]}], "\[Equal]", 
  RowBox[{"tau1", "+", 
   RowBox[{"2", " ", "d1", " ", "Fx", " ", 
    RowBox[{"Cos", "[", 
     RowBox[{"th1", "[", "t", "]"}], "]"}]}], "+", 
   RowBox[{"2", " ", "d1", " ", "Fy", " ", 
    RowBox[{"Sin", "[", 
     RowBox[{"th1", "[", "t", "]"}], "]"}]}]}]}]], "Output",
 CellChangeTimes->{
  3.671955719470664*^9, 3.6719564049737825`*^9, 3.6719634548697767`*^9, 
   3.6719635116108313`*^9, 3.67196360383585*^9, 3.671965389388775*^9, 
   3.671965968551325*^9, 3.6719665247241406`*^9, {3.67198629406485*^9, 
   3.6719863114149904`*^9}, 3.67203145708606*^9}]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"lhs2", "\[Equal]", "Q2"}]], "Input",
 CellChangeTimes->{{3.6247889607155323`*^9, 3.624788966755743*^9}}],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"d2", " ", "g", " ", 
    RowBox[{"(", 
     RowBox[{"m2", "+", "m3"}], ")"}], " ", 
    RowBox[{"Sin", "[", 
     RowBox[{"th2", "[", "t", "]"}], "]"}]}], "+", 
   RowBox[{"g", " ", "m3", " ", 
    RowBox[{"l", "[", "t", "]"}], " ", 
    RowBox[{"Sin", "[", 
     RowBox[{"th2", "[", "t", "]"}], "]"}]}], "-", 
   RowBox[{"2", " ", "d1", " ", "m3", " ", 
    RowBox[{"Cos", "[", 
     RowBox[{
      RowBox[{"th1", "[", "t", "]"}], "-", 
      RowBox[{"th2", "[", "t", "]"}]}], "]"}], " ", 
    RowBox[{
     SuperscriptBox["l", "\[Prime]",
      MultilineFunction->None], "[", "t", "]"}], " ", 
    RowBox[{
     SuperscriptBox["th1", "\[Prime]",
      MultilineFunction->None], "[", "t", "]"}]}], "-", 
   RowBox[{"2", " ", "d1", " ", 
    RowBox[{"(", 
     RowBox[{
      RowBox[{"d2", " ", 
       RowBox[{"(", 
        RowBox[{"m2", "+", "m3"}], ")"}]}], "+", 
      RowBox[{"m3", " ", 
       RowBox[{"l", "[", "t", "]"}]}]}], ")"}], " ", 
    RowBox[{"Sin", "[", 
     RowBox[{
      RowBox[{"th1", "[", "t", "]"}], "-", 
      RowBox[{"th2", "[", "t", "]"}]}], "]"}], " ", 
    RowBox[{
     SuperscriptBox["th1", "\[Prime]",
      MultilineFunction->None], "[", "t", "]"}], " ", 
    RowBox[{
     SuperscriptBox["th2", "\[Prime]",
      MultilineFunction->None], "[", "t", "]"}]}], "+", 
   RowBox[{"2", " ", "m3", " ", 
    RowBox[{
     SuperscriptBox["l", "\[Prime]",
      MultilineFunction->None], "[", "t", "]"}], " ", 
    RowBox[{"(", 
     RowBox[{
      RowBox[{"d1", " ", 
       RowBox[{"Cos", "[", 
        RowBox[{
         RowBox[{"th1", "[", "t", "]"}], "-", 
         RowBox[{"th2", "[", "t", "]"}]}], "]"}], " ", 
       RowBox[{
        SuperscriptBox["th1", "\[Prime]",
         MultilineFunction->None], "[", "t", "]"}]}], "+", 
      RowBox[{
       RowBox[{"(", 
        RowBox[{"d2", "+", 
         RowBox[{"l", "[", "t", "]"}]}], ")"}], " ", 
       RowBox[{
        SuperscriptBox["th2", "\[Prime]",
         MultilineFunction->None], "[", "t", "]"}]}]}], ")"}]}], "+", 
   RowBox[{"2", " ", "d1", " ", 
    RowBox[{"(", 
     RowBox[{
      RowBox[{"d2", " ", 
       RowBox[{"(", 
        RowBox[{"m2", "+", "m3"}], ")"}]}], "+", 
      RowBox[{"m3", " ", 
       RowBox[{"l", "[", "t", "]"}]}]}], ")"}], " ", 
    RowBox[{"(", 
     RowBox[{
      RowBox[{
       RowBox[{"Sin", "[", 
        RowBox[{
         RowBox[{"th1", "[", "t", "]"}], "-", 
         RowBox[{"th2", "[", "t", "]"}]}], "]"}], " ", 
       RowBox[{
        SuperscriptBox["th1", "\[Prime]",
         MultilineFunction->None], "[", "t", "]"}], " ", 
       RowBox[{"(", 
        RowBox[{
         RowBox[{"-", 
          RowBox[{
           SuperscriptBox["th1", "\[Prime]",
            MultilineFunction->None], "[", "t", "]"}]}], "+", 
         RowBox[{
          SuperscriptBox["th2", "\[Prime]",
           MultilineFunction->None], "[", "t", "]"}]}], ")"}]}], "+", 
      RowBox[{
       RowBox[{"Cos", "[", 
        RowBox[{
         RowBox[{"th1", "[", "t", "]"}], "-", 
         RowBox[{"th2", "[", "t", "]"}]}], "]"}], " ", 
       RowBox[{
        SuperscriptBox["th1", "\[Prime]\[Prime]",
         MultilineFunction->None], "[", "t", "]"}]}]}], ")"}]}], "+", 
   RowBox[{
    RowBox[{"(", 
     RowBox[{"I2", "+", "I3", "+", 
      RowBox[{
       SuperscriptBox["d2", "2"], " ", 
       RowBox[{"(", 
        RowBox[{"m2", "+", "m3"}], ")"}]}], "+", 
      RowBox[{"m3", " ", 
       RowBox[{"l", "[", "t", "]"}], " ", 
       RowBox[{"(", 
        RowBox[{
         RowBox[{"2", " ", "d2"}], "+", 
         RowBox[{"l", "[", "t", "]"}]}], ")"}]}]}], ")"}], " ", 
    RowBox[{
     SuperscriptBox["th2", "\[Prime]\[Prime]",
      MultilineFunction->None], "[", "t", "]"}]}]}], "\[Equal]", 
  RowBox[{"tau2", "+", 
   RowBox[{"Fx", " ", 
    RowBox[{"Cos", "[", 
     RowBox[{"th2", "[", "t", "]"}], "]"}], " ", 
    RowBox[{"(", 
     RowBox[{"d2", "+", "d3", "+", 
      RowBox[{"l", "[", "t", "]"}]}], ")"}]}], "+", 
   RowBox[{"Fy", " ", 
    RowBox[{"(", 
     RowBox[{"d2", "+", "d3", "+", 
      RowBox[{"l", "[", "t", "]"}]}], ")"}], " ", 
    RowBox[{"Sin", "[", 
     RowBox[{"th2", "[", "t", "]"}], "]"}]}]}]}]], "Output",
 CellChangeTimes->{
  3.671955723219234*^9, 3.671956404982293*^9, 3.67196345489232*^9, 
   3.671963511615837*^9, 3.67196360383585*^9, 3.671965389404352*^9, 
   3.6719659685825768`*^9, 3.671966524755514*^9, {3.6719862940798655`*^9, 
   3.6719863114310026`*^9}, 3.6720314571000605`*^9}]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"lhs3", "\[Equal]", "Q3"}]], "Input",
 CellChangeTimes->{{3.6247889697353477`*^9, 3.624788975143958*^9}}],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{
    RowBox[{"-", "kspring"}], " ", "Lspring"}], "-", 
   RowBox[{"g", " ", "m3", " ", 
    RowBox[{"Cos", "[", 
     RowBox[{"th2", "[", "t", "]"}], "]"}]}], "+", 
   RowBox[{"kspring", " ", 
    RowBox[{"l", "[", "t", "]"}]}], "-", 
   RowBox[{"2", " ", "d1", " ", "m3", " ", 
    RowBox[{"Cos", "[", 
     RowBox[{
      RowBox[{"th1", "[", "t", "]"}], "-", 
      RowBox[{"th2", "[", "t", "]"}]}], "]"}], " ", 
    RowBox[{
     SuperscriptBox["th1", "\[Prime]",
      MultilineFunction->None], "[", "t", "]"}], " ", 
    RowBox[{
     SuperscriptBox["th2", "\[Prime]",
      MultilineFunction->None], "[", "t", "]"}]}], "-", 
   RowBox[{"m3", " ", 
    RowBox[{"(", 
     RowBox[{"d2", "+", 
      RowBox[{"l", "[", "t", "]"}]}], ")"}], " ", 
    SuperscriptBox[
     RowBox[{
      SuperscriptBox["th2", "\[Prime]",
       MultilineFunction->None], "[", "t", "]"}], "2"]}], "+", 
   RowBox[{"m3", " ", 
    RowBox[{"(", 
     RowBox[{
      RowBox[{"2", " ", "d1", " ", 
       RowBox[{"Cos", "[", 
        RowBox[{
         RowBox[{"th1", "[", "t", "]"}], "-", 
         RowBox[{"th2", "[", "t", "]"}]}], "]"}], " ", 
       RowBox[{
        SuperscriptBox["th1", "\[Prime]",
         MultilineFunction->None], "[", "t", "]"}], " ", 
       RowBox[{"(", 
        RowBox[{
         RowBox[{"-", 
          RowBox[{
           SuperscriptBox["th1", "\[Prime]",
            MultilineFunction->None], "[", "t", "]"}]}], "+", 
         RowBox[{
          SuperscriptBox["th2", "\[Prime]",
           MultilineFunction->None], "[", "t", "]"}]}], ")"}]}], "+", 
      RowBox[{
       SuperscriptBox["l", "\[Prime]\[Prime]",
        MultilineFunction->None], "[", "t", "]"}], "-", 
      RowBox[{"2", " ", "d1", " ", 
       RowBox[{"Sin", "[", 
        RowBox[{
         RowBox[{"th1", "[", "t", "]"}], "-", 
         RowBox[{"th2", "[", "t", "]"}]}], "]"}], " ", 
       RowBox[{
        SuperscriptBox["th1", "\[Prime]\[Prime]",
         MultilineFunction->None], "[", "t", "]"}]}]}], ")"}]}]}], "\[Equal]", 
  RowBox[{
   RowBox[{
    RowBox[{"-", "Fy"}], " ", 
    RowBox[{"Cos", "[", 
     RowBox[{"th2", "[", "t", "]"}], "]"}]}], "+", 
   RowBox[{"Fx", " ", 
    RowBox[{"Sin", "[", 
     RowBox[{"th2", "[", "t", "]"}], "]"}]}], "-", 
   RowBox[{"bspring", " ", 
    RowBox[{
     SuperscriptBox["l", "\[Prime]",
      MultilineFunction->None], "[", "t", "]"}]}]}]}]], "Output",
 CellChangeTimes->{
  3.6719557258891096`*^9, 3.6719564049908037`*^9, 3.671963454900819*^9, 
   3.671963511615837*^9, 3.671963603858012*^9, 3.671965389404352*^9, 
   3.6719659685825768`*^9, 3.671966524771139*^9, {3.6719862940888777`*^9, 
   3.6719863114410353`*^9}, 3.672031457113062*^9}]
}, Open  ]]
}, Closed]],

Cell[CellGroupData[{

Cell[TextData[{
 StyleBox["M ",
  FontWeight->"Bold"],
 "Matrix (EOM in the form ",
 StyleBox["M",
  FontWeight->"Bold"],
 "*",
 StyleBox["x\[CloseCurlyQuote]\[CloseCurlyQuote]",
  FontWeight->"Bold"],
 "=",
 StyleBox["F)",
  FontWeight->"Bold"]
}], "Subsection",
 CellChangeTimes->{{3.6248152455718846`*^9, 3.624815251531095*^9}, {
  3.6251177255672674`*^9, 3.6251177285062733`*^9}}],

Cell[BoxData[{
 RowBox[{
  RowBox[{"b11", "=", 
   RowBox[{"Simplify", "[", 
    RowBox[{"Coefficient", "[", 
     RowBox[{"lhs1", ",", 
      RowBox[{
       RowBox[{"th1", "''"}], "[", "t", "]"}]}], "]"}], "]"}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"b12", "=", 
   RowBox[{"Simplify", "[", 
    RowBox[{"Coefficient", "[", 
     RowBox[{"lhs1", ",", 
      RowBox[{
       RowBox[{"th2", "''"}], "[", "t", "]"}]}], "]"}], "]"}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"b13", "=", 
   RowBox[{"Simplify", "[", 
    RowBox[{"Coefficient", "[", 
     RowBox[{"lhs1", ",", 
      RowBox[{
       RowBox[{"l", "''"}], "[", "t", "]"}]}], "]"}], "]"}]}], 
  ";"}], "\[IndentingNewLine]"}], "Input",
 CellChangeTimes->{{3.6248152676303234`*^9, 3.624815301731983*^9}, {
  3.624815342494855*^9, 3.624815354974877*^9}, {3.6248156042945147`*^9, 
  3.6248156332949657`*^9}, {3.625117490953786*^9, 3.625117496820797*^9}, {
  3.625759869910122*^9, 3.625759905634303*^9}, {3.6292659007436576`*^9, 
  3.6292659103068724`*^9}, {3.6719557401415515`*^9, 3.6719557415362825`*^9}, {
  3.671955793575741*^9, 3.671955802094079*^9}, {3.6719635329752254`*^9, 
  3.6719635498753433`*^9}}],

Cell[BoxData[{
 RowBox[{
  RowBox[{"b21", "=", 
   RowBox[{"Simplify", "[", 
    RowBox[{"Coefficient", "[", 
     RowBox[{"lhs2", ",", 
      RowBox[{
       RowBox[{"th1", "''"}], "[", "t", "]"}]}], "]"}], "]"}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"b22", "=", 
   RowBox[{"Simplify", "[", 
    RowBox[{"Coefficient", "[", 
     RowBox[{"lhs2", ",", 
      RowBox[{
       RowBox[{"th2", "''"}], "[", "t", "]"}]}], "]"}], "]"}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"b23", "=", 
   RowBox[{"Simplify", "[", 
    RowBox[{"Coefficient", "[", 
     RowBox[{"lhs2", ",", 
      RowBox[{
       RowBox[{"l", "''"}], "[", "t", "]"}]}], "]"}], "]"}]}], 
  ";"}], "\[IndentingNewLine]"}], "Input",
 CellChangeTimes->{{3.624815684743856*^9, 3.624815743275159*^9}, {
   3.6251174980787992`*^9, 3.6251175022178097`*^9}, {3.625759913798568*^9, 
   3.6257599375653453`*^9}, {3.6292659175290384`*^9, 
   3.6292659210411153`*^9}, {3.62926599000941*^9, 3.6292660020078573`*^9}, 
   3.671955743869691*^9, {3.671955809246027*^9, 3.671955818829851*^9}, {
   3.671963407155636*^9, 3.6719634146957645`*^9}, {3.6719634875368953`*^9, 
   3.671963489542542*^9}, {3.671963553986064*^9, 3.6719635629355555`*^9}}],

Cell[BoxData[{
 RowBox[{
  RowBox[{"b31", "=", 
   RowBox[{"Simplify", "[", 
    RowBox[{"Coefficient", "[", 
     RowBox[{"lhs3", ",", 
      RowBox[{
       RowBox[{"th1", "''"}], "[", "t", "]"}]}], "]"}], "]"}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"b32", "=", 
   RowBox[{"Simplify", "[", 
    RowBox[{"Coefficient", "[", 
     RowBox[{"lhs3", ",", 
      RowBox[{
       RowBox[{"th2", "''"}], "[", "t", "]"}]}], "]"}], "]"}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"b33", "=", 
   RowBox[{"Simplify", "[", 
    RowBox[{"Coefficient", "[", 
     RowBox[{"lhs3", ",", 
      RowBox[{
       RowBox[{"l", "''"}], "[", "t", "]"}]}], "]"}], "]"}]}], 
  ";"}], "\[IndentingNewLine]"}], "Input",
 CellChangeTimes->{{3.624815786268834*^9, 3.6248158228508987`*^9}, {
   3.625117503532812*^9, 3.6251175082638235`*^9}, {3.6257599519588313`*^9, 
   3.6257599693983765`*^9}, {3.6292659249852047`*^9, 
   3.6292659255632153`*^9}, {3.6292659926014194`*^9, 3.62926600301666*^9}, 
   3.6719557469975595`*^9, {3.671955821533767*^9, 3.6719558312142305`*^9}, {
   3.6719635657159567`*^9, 3.6719635768752937`*^9}}],

Cell[BoxData[
 RowBox[{
  RowBox[{"M", "=", 
   RowBox[{"{", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{"b11", ",", "b12", ",", "b13"}], "}"}], ",", 
     "\[IndentingNewLine]", 
     RowBox[{"{", 
      RowBox[{"b21", ",", "b22", ",", "b23"}], "}"}], ",", 
     "\[IndentingNewLine]", 
     RowBox[{"{", 
      RowBox[{"b31", ",", "b32", ",", "b33"}], "}"}]}], "}"}]}], 
  ";"}]], "Input",
 CellChangeTimes->{{3.6248160841981573`*^9, 3.6248163265757833`*^9}, 
   3.624816450908002*^9, {3.6257601475262156`*^9, 3.625760217374449*^9}, {
   3.625760281422538*^9, 3.6257602904488463`*^9}, {3.6257603233309417`*^9, 
   3.625760345662695*^9}, {3.629265949015223*^9, 3.629265970863124*^9}, {
   3.6719557653981915`*^9, 3.671955788118695*^9}}],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"TableForm", "[", "M", "]"}]], "Input",
 CellChangeTimes->{3.624816436899177*^9, 3.624816473980442*^9},
 NumberMarks->False],

Cell[BoxData[
 TagBox[GridBox[{
    {
     RowBox[{"I1", "+", 
      RowBox[{
       SuperscriptBox["d1", "2"], " ", 
       RowBox[{"(", 
        RowBox[{"m1", "+", 
         RowBox[{"4", " ", 
          RowBox[{"(", 
           RowBox[{"m2", "+", "m3"}], ")"}]}]}], ")"}]}]}], 
     RowBox[{"2", " ", "d1", " ", 
      RowBox[{"Cos", "[", 
       RowBox[{
        RowBox[{"th1", "[", "t", "]"}], "-", 
        RowBox[{"th2", "[", "t", "]"}]}], "]"}], " ", 
      RowBox[{"(", 
       RowBox[{
        RowBox[{"d2", " ", 
         RowBox[{"(", 
          RowBox[{"m2", "+", "m3"}], ")"}]}], "+", 
        RowBox[{"m3", " ", 
         RowBox[{"l", "[", "t", "]"}]}]}], ")"}]}], 
     RowBox[{
      RowBox[{"-", "2"}], " ", "d1", " ", "m3", " ", 
      RowBox[{"Sin", "[", 
       RowBox[{
        RowBox[{"th1", "[", "t", "]"}], "-", 
        RowBox[{"th2", "[", "t", "]"}]}], "]"}]}]},
    {
     RowBox[{"2", " ", "d1", " ", 
      RowBox[{"Cos", "[", 
       RowBox[{
        RowBox[{"th1", "[", "t", "]"}], "-", 
        RowBox[{"th2", "[", "t", "]"}]}], "]"}], " ", 
      RowBox[{"(", 
       RowBox[{
        RowBox[{"d2", " ", 
         RowBox[{"(", 
          RowBox[{"m2", "+", "m3"}], ")"}]}], "+", 
        RowBox[{"m3", " ", 
         RowBox[{"l", "[", "t", "]"}]}]}], ")"}]}], 
     RowBox[{"I2", "+", "I3", "+", 
      RowBox[{
       SuperscriptBox["d2", "2"], " ", 
       RowBox[{"(", 
        RowBox[{"m2", "+", "m3"}], ")"}]}], "+", 
      RowBox[{"m3", " ", 
       RowBox[{"l", "[", "t", "]"}], " ", 
       RowBox[{"(", 
        RowBox[{
         RowBox[{"2", " ", "d2"}], "+", 
         RowBox[{"l", "[", "t", "]"}]}], ")"}]}]}], "0"},
    {
     RowBox[{
      RowBox[{"-", "2"}], " ", "d1", " ", "m3", " ", 
      RowBox[{"Sin", "[", 
       RowBox[{
        RowBox[{"th1", "[", "t", "]"}], "-", 
        RowBox[{"th2", "[", "t", "]"}]}], "]"}]}], "0", "m3"}
   },
   GridBoxAlignment->{
    "Columns" -> {{Left}}, "ColumnsIndexed" -> {}, "Rows" -> {{Baseline}}, 
     "RowsIndexed" -> {}},
   GridBoxSpacings->{"Columns" -> {
       Offset[0.27999999999999997`], {
        Offset[2.0999999999999996`]}, 
       Offset[0.27999999999999997`]}, "ColumnsIndexed" -> {}, "Rows" -> {
       Offset[0.2], {
        Offset[0.4]}, 
       Offset[0.2]}, "RowsIndexed" -> {}}],
  Function[BoxForm`e$, 
   TableForm[BoxForm`e$]]]], "Output",
 CellChangeTimes->{
  3.6719558585761957`*^9, 3.6719564050204954`*^9, {3.6719634250338*^9, 
   3.6719634549517403`*^9}, 3.6719635116515975`*^9, 3.671963603907062*^9, 
   3.6719653894734387`*^9, 3.67196596865114*^9, 3.671966524855812*^9, {
   3.671986294168951*^9, 3.671986311490059*^9}, 3.6720314571620646`*^9}]
}, Open  ]]
}, Closed]],

Cell[CellGroupData[{

Cell[TextData[{
 StyleBox["F ",
  FontWeight->"Bold"],
 "Matrix (EOM in the form ",
 StyleBox["M",
  FontWeight->"Bold"],
 "*",
 StyleBox["x\[CloseCurlyQuote]\[CloseCurlyQuote]",
  FontWeight->"Bold"],
 "=",
 StyleBox["F)",
  FontWeight->"Bold"]
}], "Subsection",
 CellChangeTimes->{{3.624817673433749*^9, 3.6248176900009785`*^9}, {
  3.624817727456644*^9, 3.624817786986349*^9}, {3.6251176932012024`*^9, 
  3.625117716059249*^9}}],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"xdotdot", "=", 
  RowBox[{"{", 
   RowBox[{
    RowBox[{"{", 
     RowBox[{
      RowBox[{"th1", "''"}], "[", "t", "]"}], "}"}], ",", 
    RowBox[{"{", 
     RowBox[{
      RowBox[{"th2", "''"}], "[", "t", "]"}], "}"}], ",", 
    RowBox[{"{", 
     RowBox[{
      RowBox[{"l", "''"}], "[", "t", "]"}], "}"}]}], "}"}]}]], "Input",
 CellChangeTimes->{{3.6248177957379637`*^9, 3.624817894220937*^9}, {
  3.62481796426506*^9, 3.6248180005819235`*^9}, {3.625760557181816*^9, 
  3.6257605601489143`*^9}, {3.6257606046063147`*^9, 3.625760612028555*^9}, {
  3.629266051576662*^9, 3.6292660592316895`*^9}, {3.6719559336621733`*^9, 
  3.671955948266403*^9}}],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{
   RowBox[{"{", 
    RowBox[{
     SuperscriptBox["th1", "\[Prime]\[Prime]",
      MultilineFunction->None], "[", "t", "]"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{
     SuperscriptBox["th2", "\[Prime]\[Prime]",
      MultilineFunction->None], "[", "t", "]"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{
     SuperscriptBox["l", "\[Prime]\[Prime]",
      MultilineFunction->None], "[", "t", "]"}], "}"}]}], "}"}]], "Output",
 CellChangeTimes->{
  3.671955985292712*^9, 3.671956405028057*^9, 3.671963454964858*^9, 
   3.671963511656107*^9, 3.6719636039161043`*^9, 3.6719653894890633`*^9, 
   3.67196596865114*^9, 3.671966524855812*^9, {3.6719862942040105`*^9, 
   3.671986311504101*^9}, 3.672031457177065*^9}]
}, Open  ]],

Cell[BoxData[
 RowBox[{
  RowBox[{"Fmatrix", "=", 
   RowBox[{"FullSimplify", "[", 
    RowBox[{
     RowBox[{"M", ".", "xdotdot"}], "-", 
     RowBox[{"{", 
      RowBox[{
       RowBox[{"{", "lhs1", "}"}], ",", 
       RowBox[{"{", "lhs2", "}"}], ",", 
       RowBox[{"{", "lhs3", "}"}]}], "}"}], "+", 
     RowBox[{"{", 
      RowBox[{
       RowBox[{"{", "Q1", "}"}], ",", 
       RowBox[{"{", "Q2", "}"}], ",", 
       RowBox[{"{", "Q3", "}"}]}], "}"}]}], "]"}]}], ";"}]], "Input",
 CellChangeTimes->{{3.624818019005556*^9, 3.624818022952363*^9}, {
   3.62481810649051*^9, 3.624818249464761*^9}, {3.6248187644372654`*^9, 
   3.624818809724145*^9}, {3.6248189376755695`*^9, 3.6248189430731792`*^9}, 
   3.624818995957272*^9, {3.6248190714458046`*^9, 3.624819101491458*^9}, {
   3.625117947055724*^9, 3.625117950883732*^9}, {3.6257606419825163`*^9, 
   3.6257606794167185`*^9}, {3.6292660750619497`*^9, 3.629266086593193*^9}, {
   3.6719559664303117`*^9, 3.6719559731159573`*^9}}],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"TableForm", "[", "Fmatrix", "]"}]], "Input",
 CellChangeTimes->{{3.6251179713397727`*^9, 3.625117991635816*^9}, {
  3.6257607686116896`*^9, 3.6257607731238394`*^9}}],

Cell[BoxData[
 TagBox[GridBox[{
    {
     RowBox[{"tau1", "+", 
      RowBox[{"2", " ", "d1", " ", "Fx", " ", 
       RowBox[{"Cos", "[", 
        RowBox[{"th1", "[", "t", "]"}], "]"}]}], "+", 
      RowBox[{"d1", " ", 
       RowBox[{"(", 
        RowBox[{
         RowBox[{"2", " ", "Fy"}], "-", 
         RowBox[{"g", " ", 
          RowBox[{"(", 
           RowBox[{"m1", "+", 
            RowBox[{"2", " ", 
             RowBox[{"(", 
              RowBox[{"m2", "+", "m3"}], ")"}]}]}], ")"}]}]}], ")"}], " ", 
       RowBox[{"Sin", "[", 
        RowBox[{"th1", "[", "t", "]"}], "]"}]}], "-", 
      RowBox[{"4", " ", "d1", " ", "m3", " ", 
       RowBox[{"Cos", "[", 
        RowBox[{
         RowBox[{"th1", "[", "t", "]"}], "-", 
         RowBox[{"th2", "[", "t", "]"}]}], "]"}], " ", 
       RowBox[{
        SuperscriptBox["l", "\[Prime]",
         MultilineFunction->None], "[", "t", "]"}], " ", 
       RowBox[{
        SuperscriptBox["th2", "\[Prime]",
         MultilineFunction->None], "[", "t", "]"}]}], "-", 
      RowBox[{"2", " ", "d1", " ", 
       RowBox[{"(", 
        RowBox[{
         RowBox[{"d2", " ", 
          RowBox[{"(", 
           RowBox[{"m2", "+", "m3"}], ")"}]}], "+", 
         RowBox[{"m3", " ", 
          RowBox[{"l", "[", "t", "]"}]}]}], ")"}], " ", 
       RowBox[{"Sin", "[", 
        RowBox[{
         RowBox[{"th1", "[", "t", "]"}], "-", 
         RowBox[{"th2", "[", "t", "]"}]}], "]"}], " ", 
       SuperscriptBox[
        RowBox[{
         SuperscriptBox["th2", "\[Prime]",
          MultilineFunction->None], "[", "t", "]"}], "2"]}]}]},
    {
     RowBox[{"tau2", "+", 
      RowBox[{
       RowBox[{"(", 
        RowBox[{"d2", "+", "d3"}], ")"}], " ", "Fx", " ", 
       RowBox[{"Cos", "[", 
        RowBox[{"th2", "[", "t", "]"}], "]"}]}], "+", 
      RowBox[{
       RowBox[{"(", 
        RowBox[{
         RowBox[{"d3", " ", "Fy"}], "+", 
         RowBox[{"d2", " ", 
          RowBox[{"(", 
           RowBox[{"Fy", "-", 
            RowBox[{"g", " ", 
             RowBox[{"(", 
              RowBox[{"m2", "+", "m3"}], ")"}]}]}], ")"}]}]}], ")"}], " ", 
       RowBox[{"Sin", "[", 
        RowBox[{"th2", "[", "t", "]"}], "]"}]}], "+", 
      RowBox[{"2", " ", "d1", " ", "d2", " ", 
       RowBox[{"(", 
        RowBox[{"m2", "+", "m3"}], ")"}], " ", 
       RowBox[{"Sin", "[", 
        RowBox[{
         RowBox[{"th1", "[", "t", "]"}], "-", 
         RowBox[{"th2", "[", "t", "]"}]}], "]"}], " ", 
       SuperscriptBox[
        RowBox[{
         SuperscriptBox["th1", "\[Prime]",
          MultilineFunction->None], "[", "t", "]"}], "2"]}], "-", 
      RowBox[{"2", " ", "d2", " ", "m3", " ", 
       RowBox[{
        SuperscriptBox["l", "\[Prime]",
         MultilineFunction->None], "[", "t", "]"}], " ", 
       RowBox[{
        SuperscriptBox["th2", "\[Prime]",
         MultilineFunction->None], "[", "t", "]"}]}], "+", 
      RowBox[{
       RowBox[{"l", "[", "t", "]"}], " ", 
       RowBox[{"(", 
        RowBox[{
         RowBox[{"Fx", " ", 
          RowBox[{"Cos", "[", 
           RowBox[{"th2", "[", "t", "]"}], "]"}]}], "+", 
         RowBox[{
          RowBox[{"(", 
           RowBox[{"Fy", "-", 
            RowBox[{"g", " ", "m3"}]}], ")"}], " ", 
          RowBox[{"Sin", "[", 
           RowBox[{"th2", "[", "t", "]"}], "]"}]}], "+", 
         RowBox[{"2", " ", "d1", " ", "m3", " ", 
          RowBox[{"Sin", "[", 
           RowBox[{
            RowBox[{"th1", "[", "t", "]"}], "-", 
            RowBox[{"th2", "[", "t", "]"}]}], "]"}], " ", 
          SuperscriptBox[
           RowBox[{
            SuperscriptBox["th1", "\[Prime]",
             MultilineFunction->None], "[", "t", "]"}], "2"]}], "-", 
         RowBox[{"2", " ", "m3", " ", 
          RowBox[{
           SuperscriptBox["l", "\[Prime]",
            MultilineFunction->None], "[", "t", "]"}], " ", 
          RowBox[{
           SuperscriptBox["th2", "\[Prime]",
            MultilineFunction->None], "[", "t", "]"}]}]}], ")"}]}]}]},
    {
     RowBox[{
      RowBox[{"kspring", " ", "Lspring"}], "-", 
      RowBox[{"Fy", " ", 
       RowBox[{"Cos", "[", 
        RowBox[{"th2", "[", "t", "]"}], "]"}]}], "+", 
      RowBox[{"g", " ", "m3", " ", 
       RowBox[{"Cos", "[", 
        RowBox[{"th2", "[", "t", "]"}], "]"}]}], "-", 
      RowBox[{"kspring", " ", 
       RowBox[{"l", "[", "t", "]"}]}], "+", 
      RowBox[{"Fx", " ", 
       RowBox[{"Sin", "[", 
        RowBox[{"th2", "[", "t", "]"}], "]"}]}], "-", 
      RowBox[{"bspring", " ", 
       RowBox[{
        SuperscriptBox["l", "\[Prime]",
         MultilineFunction->None], "[", "t", "]"}]}], "+", 
      RowBox[{"2", " ", "d1", " ", "m3", " ", 
       RowBox[{"Cos", "[", 
        RowBox[{
         RowBox[{"th1", "[", "t", "]"}], "-", 
         RowBox[{"th2", "[", "t", "]"}]}], "]"}], " ", 
       SuperscriptBox[
        RowBox[{
         SuperscriptBox["th1", "\[Prime]",
          MultilineFunction->None], "[", "t", "]"}], "2"]}], "+", 
      RowBox[{"m3", " ", 
       RowBox[{"(", 
        RowBox[{"d2", "+", 
         RowBox[{"l", "[", "t", "]"}]}], ")"}], " ", 
       SuperscriptBox[
        RowBox[{
         SuperscriptBox["th2", "\[Prime]",
          MultilineFunction->None], "[", "t", "]"}], "2"]}]}]}
   },
   GridBoxAlignment->{
    "Columns" -> {{Left}}, "ColumnsIndexed" -> {}, "Rows" -> {{Baseline}}, 
     "RowsIndexed" -> {}},
   GridBoxSpacings->{"Columns" -> {
       Offset[0.27999999999999997`], {
        Offset[2.0999999999999996`]}, 
       Offset[0.27999999999999997`]}, "ColumnsIndexed" -> {}, "Rows" -> {
       Offset[0.2], {
        Offset[0.4]}, 
       Offset[0.2]}, "RowsIndexed" -> {}}],
  Function[BoxForm`e$, 
   TableForm[BoxForm`e$]]]], "Output",
 CellChangeTimes->{
  3.671955995155195*^9, 3.671956409036808*^9, 3.6719634588338127`*^9, 
   3.671963515435706*^9, 3.6719636077417836`*^9, 3.6719653934587708`*^9, 
   3.671965972393469*^9, 3.6719665277406015`*^9, {3.671986294386279*^9, 
   3.6719863115317698`*^9}, 3.672031459411193*^9}]
}, Open  ]]
}, Closed]],

Cell[CellGroupData[{

Cell["Conversion to Matlab", "Subsection",
 CellChangeTimes->{{3.625117161672057*^9, 3.6251171682690735`*^9}}],

Cell[TextData[StyleBox["Renaming Variables for Matlab Use",
 FontWeight->"Bold"]], "Text",
 CellChangeTimes->{{3.6251180741099763`*^9, 3.6251180789469852`*^9}, {
  3.625118125738079*^9, 3.6251181483691225`*^9}}],

Cell[BoxData[
 RowBox[{
  RowBox[{"renaming", "=", 
   RowBox[{"{", 
    RowBox[{
     RowBox[{
      RowBox[{"th1", "[", "t", "]"}], "\[Rule]", "th1"}], ",", 
     RowBox[{
      RowBox[{"th2", "[", "t", "]"}], "\[Rule]", "th2"}], ",", 
     RowBox[{
      RowBox[{"l", "[", "t", "]"}], "\[Rule]", "l"}], ",", 
     RowBox[{
      RowBox[{
       RowBox[{"th1", "'"}], "[", "t", "]"}], "\[Rule]", "th1dot"}], ",", 
     RowBox[{
      RowBox[{
       RowBox[{"th2", "'"}], "[", "t", "]"}], "\[Rule]", "th2dot"}], ",", 
     RowBox[{
      RowBox[{
       RowBox[{"l", "'"}], "[", "t", "]"}], "\[Rule]", "ldot"}]}], "}"}]}], 
  ";"}]], "Input",
 CellChangeTimes->{{3.626545163432181*^9, 3.6265451874174232`*^9}, {
  3.627744166715253*^9, 3.6277442168351493`*^9}, {3.62774425440483*^9, 
  3.6277442736086664`*^9}, {3.6277443519874115`*^9, 3.6277443677246404`*^9}, {
  3.6277444674784317`*^9, 3.6277444834686623`*^9}, {3.6277445350383825`*^9, 
  3.6277445628830614`*^9}, {3.629266897757061*^9, 3.629266931037325*^9}, {
  3.6719560080148196`*^9, 3.6719560761963005`*^9}}],

Cell[TextData[StyleBox["MASS MATRIX",
 FontWeight->"Bold"]], "Text",
 CellChangeTimes->{{3.6251180741099763`*^9, 3.6251180789469852`*^9}}],

Cell[BoxData[
 RowBox[{
  RowBox[{"Mmatlab", "=", 
   RowBox[{"M", "/.", "renaming"}]}], ";"}]], "Input",
 CellChangeTimes->{{3.6264382214072914`*^9, 3.6264382284645042`*^9}, {
   3.626447058126707*^9, 3.626447327634802*^9}, {3.6264473649790697`*^9, 
   3.626447434527996*^9}, 3.626447501357716*^9, 3.626545200604447*^9}],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"TableForm", "[", "Mmatlab", "]"}]], "Input",
 CellChangeTimes->{
  3.625082414176267*^9, {3.62926697390761*^9, 3.6292669849476314`*^9}}],

Cell[BoxData[
 TagBox[GridBox[{
    {
     RowBox[{"I1", "+", 
      RowBox[{
       SuperscriptBox["d1", "2"], " ", 
       RowBox[{"(", 
        RowBox[{"m1", "+", 
         RowBox[{"4", " ", 
          RowBox[{"(", 
           RowBox[{"m2", "+", "m3"}], ")"}]}]}], ")"}]}]}], 
     RowBox[{"2", " ", "d1", " ", 
      RowBox[{"(", 
       RowBox[{
        RowBox[{"l", " ", "m3"}], "+", 
        RowBox[{"d2", " ", 
         RowBox[{"(", 
          RowBox[{"m2", "+", "m3"}], ")"}]}]}], ")"}], " ", 
      RowBox[{"Cos", "[", 
       RowBox[{"th1", "-", "th2"}], "]"}]}], 
     RowBox[{
      RowBox[{"-", "2"}], " ", "d1", " ", "m3", " ", 
      RowBox[{"Sin", "[", 
       RowBox[{"th1", "-", "th2"}], "]"}]}]},
    {
     RowBox[{"2", " ", "d1", " ", 
      RowBox[{"(", 
       RowBox[{
        RowBox[{"l", " ", "m3"}], "+", 
        RowBox[{"d2", " ", 
         RowBox[{"(", 
          RowBox[{"m2", "+", "m3"}], ")"}]}]}], ")"}], " ", 
      RowBox[{"Cos", "[", 
       RowBox[{"th1", "-", "th2"}], "]"}]}], 
     RowBox[{"I2", "+", "I3", "+", 
      RowBox[{"l", " ", 
       RowBox[{"(", 
        RowBox[{
         RowBox[{"2", " ", "d2"}], "+", "l"}], ")"}], " ", "m3"}], "+", 
      RowBox[{
       SuperscriptBox["d2", "2"], " ", 
       RowBox[{"(", 
        RowBox[{"m2", "+", "m3"}], ")"}]}]}], "0"},
    {
     RowBox[{
      RowBox[{"-", "2"}], " ", "d1", " ", "m3", " ", 
      RowBox[{"Sin", "[", 
       RowBox[{"th1", "-", "th2"}], "]"}]}], "0", "m3"}
   },
   GridBoxAlignment->{
    "Columns" -> {{Left}}, "ColumnsIndexed" -> {}, "Rows" -> {{Baseline}}, 
     "RowsIndexed" -> {}},
   GridBoxSpacings->{"Columns" -> {
       Offset[0.27999999999999997`], {
        Offset[2.0999999999999996`]}, 
       Offset[0.27999999999999997`]}, "ColumnsIndexed" -> {}, "Rows" -> {
       Offset[0.2], {
        Offset[0.4]}, 
       Offset[0.2]}, "RowsIndexed" -> {}}],
  Function[BoxForm`e$, 
   TableForm[BoxForm`e$]]]], "Output",
 CellChangeTimes->{
  3.671956111305903*^9, 3.6719564090653725`*^9, 3.6719634588578835`*^9, 
   3.671963515455284*^9, 3.6719636077457857`*^9, 3.671965393492302*^9, 
   3.671965972409095*^9, 3.6719665277718706`*^9, {3.6719862944193335`*^9, 
   3.671986311563799*^9}, 3.672031459433194*^9}]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{"PrintMatlab", "[", 
  RowBox[{
   RowBox[{"Mmatlab", "[", 
    RowBox[{"[", 
     RowBox[{"1", ",", "1"}], "]"}], "]"}], ",", "\"\<M(2,2)\>\""}], 
  "]"}], "\[IndentingNewLine]", 
 RowBox[{"PrintMatlab", "[", 
  RowBox[{
   RowBox[{"Mmatlab", "[", 
    RowBox[{"[", 
     RowBox[{"1", ",", "2"}], "]"}], "]"}], ",", "\"\<M(2,4)\>\""}], 
  "]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"PrintMatlab", "[", 
   RowBox[{
    RowBox[{"Mmatlab", "[", 
     RowBox[{"[", 
      RowBox[{"1", ",", "3"}], "]"}], "]"}], ",", "\"\<M(2,6)\>\""}], "]"}], 
  "\[IndentingNewLine]"}], "\[IndentingNewLine]", 
 RowBox[{"PrintMatlab", "[", 
  RowBox[{
   RowBox[{"Mmatlab", "[", 
    RowBox[{"[", 
     RowBox[{"2", ",", "2"}], "]"}], "]"}], ",", "\"\<M(4,4)\>\""}], 
  "]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"PrintMatlab", "[", 
   RowBox[{
    RowBox[{"Mmatlab", "[", 
     RowBox[{"[", 
      RowBox[{"2", ",", "3"}], "]"}], "]"}], ",", "\"\<M(4,6)\>\""}], "]"}], 
  "\[IndentingNewLine]"}], "\[IndentingNewLine]", 
 RowBox[{"PrintMatlab", "[", 
  RowBox[{
   RowBox[{"Mmatlab", "[", 
    RowBox[{"[", 
     RowBox[{"3", ",", "3"}], "]"}], "]"}], ",", "\"\<M(6,6)\>\""}], 
  "]"}], "\[IndentingNewLine]"}], "Input",
 CellChangeTimes->{{3.625082509308514*^9, 3.625082659485284*^9}, {
   3.625083445285458*^9, 3.6250835001595707`*^9}, {3.625083733294812*^9, 
   3.625083800936323*^9}, {3.625084190278021*^9, 3.625084204546837*^9}, {
   3.6250842433170156`*^9, 3.625084277199117*^9}, {3.6251182873104143`*^9, 
   3.625118295609434*^9}, {3.625118394078635*^9, 3.6251183970386405`*^9}, {
   3.6251185810954127`*^9, 3.6251186596166363`*^9}, {3.625118781073536*^9, 
   3.62511893803191*^9}, {3.625119120434336*^9, 3.6251192961237497`*^9}, {
   3.6257610082451763`*^9, 3.6257610508826036`*^9}, {3.6257611176376443`*^9, 
   3.6257611326171026`*^9}, {3.6257611894118314`*^9, 3.6257612045943*^9}, {
   3.625761279813822*^9, 3.625761286014035*^9}, {3.6257614318533015`*^9, 
   3.625761462189477*^9}, {3.625761531956174*^9, 3.625761540104474*^9}, {
   3.6292670210913*^9, 3.6292670474995513`*^9}, 3.6292671172160826`*^9, {
   3.6292671586063647`*^9, 3.6292671914526253`*^9}, {3.6292672249618893`*^9, 
   3.6292672297862988`*^9}, {3.671956133681942*^9, 3.6719561593461576`*^9}}],

Cell[CellGroupData[{

Cell[BoxData["\<\"M(2,2)=I1+d1.^2.*(m1+4.*(m2+m3));\\n\"\>"], "Print",
 CellChangeTimes->{
  3.629267376911584*^9, 3.6292725646330853`*^9, 3.6292726487722664`*^9, 
   3.631373431882924*^9, 3.6719561663917055`*^9, 3.6719564090663757`*^9, 
   3.6719634588799105`*^9, 3.671963515455284*^9, 3.671963607764763*^9, 
   3.6719653935073166`*^9, 3.671965972409095*^9, 3.6719665277718706`*^9, {
   3.6719862944313464`*^9, 3.671986311586794*^9}, 3.672031459446195*^9}],

Cell[BoxData["\<\"M(2,4)=2.*d1.*(l.*m3+d2.*(m2+m3)).*cos(th1+(-1).*th2);\\n\"\
\>"], "Print",
 CellChangeTimes->{
  3.629267376911584*^9, 3.6292725646330853`*^9, 3.6292726487722664`*^9, 
   3.631373431882924*^9, 3.6719561663917055`*^9, 3.6719564090663757`*^9, 
   3.6719634588799105`*^9, 3.671963515455284*^9, 3.671963607764763*^9, 
   3.6719653935073166`*^9, 3.671965972409095*^9, 3.6719665277718706`*^9, {
   3.6719862944313464`*^9, 3.671986311586794*^9}, 3.672031459447195*^9}],

Cell[BoxData["\<\"M(2,6)=(-2).*d1.*m3.*sin(th1+(-1).*th2);\\n\"\>"], "Print",
 CellChangeTimes->{
  3.629267376911584*^9, 3.6292725646330853`*^9, 3.6292726487722664`*^9, 
   3.631373431882924*^9, 3.6719561663917055`*^9, 3.6719564090663757`*^9, 
   3.6719634588799105`*^9, 3.671963515455284*^9, 3.671963607764763*^9, 
   3.6719653935073166`*^9, 3.671965972409095*^9, 3.6719665277718706`*^9, {
   3.6719862944313464`*^9, 3.671986311586794*^9}, 3.672031459449195*^9}],

Cell[BoxData["\<\"M(4,4)=I2+I3+l.*(2.*d2+l).*m3+d2.^2.*(m2+m3);\\n\"\>"], \
"Print",
 CellChangeTimes->{
  3.629267376911584*^9, 3.6292725646330853`*^9, 3.6292726487722664`*^9, 
   3.631373431882924*^9, 3.6719561663917055`*^9, 3.6719564090663757`*^9, 
   3.6719634588799105`*^9, 3.671963515455284*^9, 3.671963607764763*^9, 
   3.6719653935073166`*^9, 3.671965972409095*^9, 3.6719665277718706`*^9, {
   3.6719862944313464`*^9, 3.671986311586794*^9}, 3.6720314594511957`*^9}],

Cell[BoxData["\<\"M(4,6)=0;\\n\"\>"], "Print",
 CellChangeTimes->{
  3.629267376911584*^9, 3.6292725646330853`*^9, 3.6292726487722664`*^9, 
   3.631373431882924*^9, 3.6719561663917055`*^9, 3.6719564090663757`*^9, 
   3.6719634588799105`*^9, 3.671963515455284*^9, 3.671963607764763*^9, 
   3.6719653935073166`*^9, 3.671965972409095*^9, 3.6719665277718706`*^9, {
   3.6719862944313464`*^9, 3.671986311586794*^9}, 3.672031459452195*^9}],

Cell[BoxData["\<\"M(6,6)=m3;\\n\"\>"], "Print",
 CellChangeTimes->{
  3.629267376911584*^9, 3.6292725646330853`*^9, 3.6292726487722664`*^9, 
   3.631373431882924*^9, 3.6719561663917055`*^9, 3.6719564090663757`*^9, 
   3.6719634588799105`*^9, 3.671963515455284*^9, 3.671963607764763*^9, 
   3.6719653935073166`*^9, 3.671965972409095*^9, 3.6719665277718706`*^9, {
   3.6719862944313464`*^9, 3.671986311586794*^9}, 3.6720314594541955`*^9}]
}, Open  ]]
}, Open  ]],

Cell[TextData[StyleBox["F MATRIX",
 FontWeight->"Bold"]], "Text",
 CellChangeTimes->{{3.6251180741099763`*^9, 3.625118108743046*^9}, 
   3.6292672229318857`*^9}],

Cell[BoxData[
 RowBox[{
  RowBox[{"Fmatlab", "=", 
   RowBox[{"Fmatrix", "/.", "renaming"}]}], ";"}]], "Input",
 CellChangeTimes->{{3.6264382214072914`*^9, 3.6264382284645042`*^9}, {
   3.626447058126707*^9, 3.626447327634802*^9}, {3.6264473649790697`*^9, 
   3.626447434527996*^9}, 3.626447501357716*^9, 3.626545200604447*^9, {
   3.6292672712929754`*^9, 3.629267286047403*^9}}],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"TableForm", "[", "Fmatlab", "]"}]], "Input",
 CellChangeTimes->{
  3.625082414176267*^9, {3.62926697390761*^9, 3.6292669849476314`*^9}, {
   3.629267291494213*^9, 3.629267292009014*^9}}],

Cell[BoxData[
 TagBox[GridBox[{
    {
     RowBox[{"tau1", "+", 
      RowBox[{"2", " ", "d1", " ", "Fx", " ", 
       RowBox[{"Cos", "[", "th1", "]"}]}], "-", 
      RowBox[{"4", " ", "d1", " ", "ldot", " ", "m3", " ", "th2dot", " ", 
       RowBox[{"Cos", "[", 
        RowBox[{"th1", "-", "th2"}], "]"}]}], "+", 
      RowBox[{"d1", " ", 
       RowBox[{"(", 
        RowBox[{
         RowBox[{"2", " ", "Fy"}], "-", 
         RowBox[{"g", " ", 
          RowBox[{"(", 
           RowBox[{"m1", "+", 
            RowBox[{"2", " ", 
             RowBox[{"(", 
              RowBox[{"m2", "+", "m3"}], ")"}]}]}], ")"}]}]}], ")"}], " ", 
       RowBox[{"Sin", "[", "th1", "]"}]}], "-", 
      RowBox[{"2", " ", "d1", " ", 
       RowBox[{"(", 
        RowBox[{
         RowBox[{"l", " ", "m3"}], "+", 
         RowBox[{"d2", " ", 
          RowBox[{"(", 
           RowBox[{"m2", "+", "m3"}], ")"}]}]}], ")"}], " ", 
       SuperscriptBox["th2dot", "2"], " ", 
       RowBox[{"Sin", "[", 
        RowBox[{"th1", "-", "th2"}], "]"}]}]}]},
    {
     RowBox[{"tau2", "-", 
      RowBox[{"2", " ", "d2", " ", "ldot", " ", "m3", " ", "th2dot"}], "+", 
      RowBox[{
       RowBox[{"(", 
        RowBox[{"d2", "+", "d3"}], ")"}], " ", "Fx", " ", 
       RowBox[{"Cos", "[", "th2", "]"}]}], "+", 
      RowBox[{"2", " ", "d1", " ", "d2", " ", 
       RowBox[{"(", 
        RowBox[{"m2", "+", "m3"}], ")"}], " ", 
       SuperscriptBox["th1dot", "2"], " ", 
       RowBox[{"Sin", "[", 
        RowBox[{"th1", "-", "th2"}], "]"}]}], "+", 
      RowBox[{
       RowBox[{"(", 
        RowBox[{
         RowBox[{"d3", " ", "Fy"}], "+", 
         RowBox[{"d2", " ", 
          RowBox[{"(", 
           RowBox[{"Fy", "-", 
            RowBox[{"g", " ", 
             RowBox[{"(", 
              RowBox[{"m2", "+", "m3"}], ")"}]}]}], ")"}]}]}], ")"}], " ", 
       RowBox[{"Sin", "[", "th2", "]"}]}], "+", 
      RowBox[{"l", " ", 
       RowBox[{"(", 
        RowBox[{
         RowBox[{
          RowBox[{"-", "2"}], " ", "ldot", " ", "m3", " ", "th2dot"}], "+", 
         RowBox[{"Fx", " ", 
          RowBox[{"Cos", "[", "th2", "]"}]}], "+", 
         RowBox[{"2", " ", "d1", " ", "m3", " ", 
          SuperscriptBox["th1dot", "2"], " ", 
          RowBox[{"Sin", "[", 
           RowBox[{"th1", "-", "th2"}], "]"}]}], "+", 
         RowBox[{
          RowBox[{"(", 
           RowBox[{"Fy", "-", 
            RowBox[{"g", " ", "m3"}]}], ")"}], " ", 
          RowBox[{"Sin", "[", "th2", "]"}]}]}], ")"}]}]}]},
    {
     RowBox[{
      RowBox[{
       RowBox[{"-", "kspring"}], " ", "l"}], "-", 
      RowBox[{"bspring", " ", "ldot"}], "+", 
      RowBox[{"kspring", " ", "Lspring"}], "+", 
      RowBox[{
       RowBox[{"(", 
        RowBox[{"d2", "+", "l"}], ")"}], " ", "m3", " ", 
       SuperscriptBox["th2dot", "2"]}], "+", 
      RowBox[{"2", " ", "d1", " ", "m3", " ", 
       SuperscriptBox["th1dot", "2"], " ", 
       RowBox[{"Cos", "[", 
        RowBox[{"th1", "-", "th2"}], "]"}]}], "-", 
      RowBox[{"Fy", " ", 
       RowBox[{"Cos", "[", "th2", "]"}]}], "+", 
      RowBox[{"g", " ", "m3", " ", 
       RowBox[{"Cos", "[", "th2", "]"}]}], "+", 
      RowBox[{"Fx", " ", 
       RowBox[{"Sin", "[", "th2", "]"}]}]}]}
   },
   GridBoxAlignment->{
    "Columns" -> {{Left}}, "ColumnsIndexed" -> {}, "Rows" -> {{Baseline}}, 
     "RowsIndexed" -> {}},
   GridBoxSpacings->{"Columns" -> {
       Offset[0.27999999999999997`], {
        Offset[2.0999999999999996`]}, 
       Offset[0.27999999999999997`]}, "ColumnsIndexed" -> {}, "Rows" -> {
       Offset[0.2], {
        Offset[0.4]}, 
       Offset[0.2]}, "RowsIndexed" -> {}}],
  Function[BoxForm`e$, 
   TableForm[BoxForm`e$]]]], "Output",
 CellChangeTimes->{
  3.625080268538454*^9, 3.625080302885322*^9, 3.6250806122388544`*^9, 
   3.6250810203007965`*^9, 3.6250818952791677`*^9, 3.625118423124691*^9, 
   3.625118694283057*^9, 3.6251193503728633`*^9, 3.6252490966429377`*^9, 
   3.6257618402120805`*^9, 3.6292661291832128`*^9, 3.6292666327327576`*^9, 
   3.629267376942784*^9, 3.6292725646730857`*^9, 3.629272648802266*^9, 
   3.6313734319359255`*^9, 3.671956189452028*^9, 3.6719564091153445`*^9, 
   3.671963458925235*^9, 3.67196351549654*^9, 3.6719636077993927`*^9, 
   3.6719653935568647`*^9, 3.6719659724468565`*^9, 3.671966527809621*^9, {
   3.67198629449844*^9, 3.671986311621353*^9}, 3.672031459471196*^9}]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{"PrintMatlab", "[", 
  RowBox[{
   RowBox[{"Fmatlab", "[", 
    RowBox[{"[", 
     RowBox[{"1", ",", "1"}], "]"}], "]"}], ",", "\"\<F(2)\>\""}], 
  "]"}], "\[IndentingNewLine]", 
 RowBox[{"PrintMatlab", "[", 
  RowBox[{
   RowBox[{"Fmatlab", "[", 
    RowBox[{"[", 
     RowBox[{"2", ",", " ", "1"}], "]"}], "]"}], ",", "\"\<F(4)\>\""}], 
  "]"}], "\[IndentingNewLine]", 
 RowBox[{"PrintMatlab", "[", 
  RowBox[{
   RowBox[{"Fmatlab", "[", 
    RowBox[{"[", 
     RowBox[{"3", ",", " ", "1"}], "]"}], "]"}], ",", "\"\<F(6)\>\""}], 
  "]"}], "\[IndentingNewLine]"}], "Input",
 CellChangeTimes->{{3.62508303559801*^9, 3.6250830792935095`*^9}, {
  3.6250831114703493`*^9, 3.6250831196699905`*^9}, {3.625083342720058*^9, 
  3.6250833973925896`*^9}, {3.625084103089487*^9, 3.625084136457525*^9}, {
  3.6251183469385357`*^9, 3.62511835354755*^9}, {3.6251189841910253`*^9, 
  3.62511900015106*^9}, {3.625121197893039*^9, 3.625121296534252*^9}, {
  3.6257616985174294`*^9, 3.6257617056786556`*^9}, {3.62926731179825*^9, 
  3.629267320573867*^9}, {3.6719561980059037`*^9, 3.6719561987819033`*^9}}],

Cell[CellGroupData[{

Cell[BoxData["\<\"F(2)=tau1+2.*d1.*Fx.*cos(th1)+(-4).*d1.*ldot.*m3.*th2dot.*\
cos( ...\\n  th1+(-1).*th2)+d1.*(2.*Fy+(-1).*g.*(m1+2.*(m2+m3))).*sin( ...\\n \
 th1)+(-2).*d1.*(l.*m3+d2.*(m2+m3)).*th2dot.^2.*sin(th1+(-1) ...\\n  \
.*th2);\\n\"\>"], "Print",
 CellChangeTimes->{
  3.6292673769583836`*^9, 3.6292725646930857`*^9, 3.6292726488122663`*^9, 
   3.631373431953927*^9, 3.6719562038656893`*^9, 3.6719564091158743`*^9, 
   3.6719634589428744`*^9, 3.6719635155140557`*^9, 3.6719636078239694`*^9, 
   3.6719653935753813`*^9, 3.6719659724624825`*^9, 3.6719665278252506`*^9, {
   3.671986294536474*^9, 3.6719863116373944`*^9}, 3.6720314594861975`*^9}],

Cell[BoxData["\<\"F(4)=tau2+(-2).*d2.*ldot.*m3.*th2dot+(d2+d3).*Fx.*cos(th2)+\
2.* ...\\n  d1.*d2.*(m2+m3).*th1dot.^2.*sin(th1+(-1).*th2)+(d3.*Fy+d2.*( \
...\\n  Fy+(-1).*g.*(m2+m3))).*sin(th2)+l.*((-2).*ldot.*m3.*th2dot+ ...\\n  \
Fx.*cos(th2)+2.*d1.*m3.*th1dot.^2.*sin(th1+(-1).*th2)+(Fy+( ...\\n  \
-1).*g.*m3).*sin(th2));\\n\"\>"], "Print",
 CellChangeTimes->{
  3.6292673769583836`*^9, 3.6292725646930857`*^9, 3.6292726488122663`*^9, 
   3.631373431953927*^9, 3.6719562038656893`*^9, 3.6719564091158743`*^9, 
   3.6719634589428744`*^9, 3.6719635155140557`*^9, 3.6719636078239694`*^9, 
   3.6719653935753813`*^9, 3.6719659724624825`*^9, 3.6719665278252506`*^9, {
   3.671986294536474*^9, 3.6719863116373944`*^9}, 3.6720314594871974`*^9}],

Cell[BoxData["\<\"F(6)=(-1).*kspring.*l+(-1).*bspring.*ldot+kspring.*Lspring+(\
d2+l) ...\\n  .*m3.*th2dot.^2+2.*d1.*m3.*th1dot.^2.*cos(th1+(-1).*th2)+( \
...\\n  -1).*Fy.*cos(th2)+g.*m3.*cos(th2)+Fx.*sin(th2);\\n\"\>"], "Print",
 CellChangeTimes->{
  3.6292673769583836`*^9, 3.6292725646930857`*^9, 3.6292726488122663`*^9, 
   3.631373431953927*^9, 3.6719562038656893`*^9, 3.6719564091158743`*^9, 
   3.6719634589428744`*^9, 3.6719635155140557`*^9, 3.6719636078239694`*^9, 
   3.6719653935753813`*^9, 3.6719659724624825`*^9, 3.6719665278252506`*^9, {
   3.671986294536474*^9, 3.6719863116373944`*^9}, 3.6720314594891977`*^9}]
}, Closed]]
}, Open  ]],

Cell[TextData[StyleBox["Useful Expressions",
 FontWeight->"Bold"]], "Text",
 CellChangeTimes->{{3.6251180741099763`*^9, 3.625118108743046*^9}, 
   3.6292672229318857`*^9, {3.629272449603825*^9, 3.6292724538788347`*^9}}],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{"PrintMatlab", "[", 
  RowBox[{
   RowBox[{"xf", "/.", "renaming"}], ",", "\"\<xf\>\""}], 
  "]"}], "\[IndentingNewLine]", 
 RowBox[{"PrintMatlab", "[", 
  RowBox[{
   RowBox[{"xfdot", "/.", "renaming"}], ",", "\"\<xfdot\>\""}], 
  "]"}], "\[IndentingNewLine]", 
 RowBox[{"PrintMatlab", "[", 
  RowBox[{
   RowBox[{"yf", "/.", "renaming"}], ",", "\"\<yf\>\""}], 
  "]"}], "\[IndentingNewLine]", 
 RowBox[{"PrintMatlab", "[", 
  RowBox[{
   RowBox[{"yfdot", "/.", "renaming"}], ",", "\"\<yfdot\>\""}], 
  "]"}]}], "Input",
 CellChangeTimes->{{3.629272466502864*^9, 3.6292724813458977`*^9}, {
  3.6292725141349707`*^9, 3.6292725450670443`*^9}, {3.6292726214372034`*^9, 
  3.629272629311226*^9}}],

Cell[CellGroupData[{

Cell[BoxData["\<\"xf=2.*d1.*sin(th1)+(d2+d3+l).*sin(th2);\\n\"\>"], "Print",
 CellChangeTimes->{
  3.6719563285256543`*^9, 3.6719564091391554`*^9, 3.671963458962552*^9, 
   3.6719635155260744`*^9, 3.671963607835966*^9, 3.6719653935893955`*^9, 
   3.6719659724781065`*^9, 3.671966527851881*^9, {3.6719862945725265`*^9, 
   3.6719863116554093`*^9}, 3.6720314595061984`*^9}],

Cell[BoxData["\<\"xfdot=2.*d1.*th1dot.*cos(th1)+(d2+d3+l).*th2dot.*cos(th2)+\
ldot.* ...\\n  sin(th2);\\n\"\>"], "Print",
 CellChangeTimes->{
  3.6719563285256543`*^9, 3.6719564091391554`*^9, 3.671963458962552*^9, 
   3.6719635155260744`*^9, 3.671963607835966*^9, 3.6719653935893955`*^9, 
   3.6719659724781065`*^9, 3.671966527851881*^9, {3.6719862945725265`*^9, 
   3.6719863116554093`*^9}, 3.6720314595071983`*^9}],

Cell[BoxData["\<\"yf=(-2).*d1.*cos(th1)+(-1).*(d2+d3+l).*cos(th2);\\n\"\>"], \
"Print",
 CellChangeTimes->{
  3.6719563285256543`*^9, 3.6719564091391554`*^9, 3.671963458962552*^9, 
   3.6719635155260744`*^9, 3.671963607835966*^9, 3.6719653935893955`*^9, 
   3.6719659724781065`*^9, 3.671966527851881*^9, {3.6719862945725265`*^9, 
   3.6719863116554093`*^9}, 3.6720314595081987`*^9}],

Cell[BoxData["\<\"yfdot=(-1).*ldot.*cos(th2)+2.*d1.*th1dot.*sin(th1)+(d2+d3+l)\
.* ...\\n  th2dot.*sin(th2);\\n\"\>"], "Print",
 CellChangeTimes->{
  3.6719563285256543`*^9, 3.6719564091391554`*^9, 3.671963458962552*^9, 
   3.6719635155260744`*^9, 3.671963607835966*^9, 3.6719653935893955`*^9, 
   3.6719659724781065`*^9, 3.671966527851881*^9, {3.6719862945725265`*^9, 
   3.6719863116554093`*^9}, 3.672031459509199*^9}]
}, Open  ]]
}, Open  ]]
}, Closed]]
}, Open  ]]
},
WindowSize->{1904, 997},
WindowMargins->{{-8, Automatic}, {Automatic, 0}},
FrontEndVersion->"9.0 for Microsoft Windows (64-bit) (January 25, 2013)",
StyleDefinitions->"Default.nb"
]
(* End of Notebook Content *)

(* Internal cache information *)
(*CellTagsOutline
CellTagsIndex->{}
*)
(*CellTagsIndex
CellTagsIndex->{}
*)
(*NotebookFileOutline
Notebook[{
Cell[CellGroupData[{
Cell[579, 22, 175, 2, 101, "Title"],
Cell[CellGroupData[{
Cell[779, 28, 101, 1, 49, "Subsection"],
Cell[883, 31, 54, 1, 31, "Input"]
}, Closed]],
Cell[CellGroupData[{
Cell[974, 37, 94, 1, 41, "Subsection"],
Cell[1071, 40, 398, 8, 68, "Text"]
}, Closed]],
Cell[CellGroupData[{
Cell[1506, 53, 115, 1, 41, "Subsection"],
Cell[1624, 56, 532, 10, 63, "Text"]
}, Closed]],
Cell[CellGroupData[{
Cell[2193, 71, 158, 2, 41, "Subsection"],
Cell[2354, 75, 213, 3, 30, "Text"],
Cell[CellGroupData[{
Cell[2592, 82, 1578, 35, 52, "Input"],
Cell[4173, 119, 616, 15, 31, "Output"],
Cell[4792, 136, 637, 16, 31, "Output"]
}, Open  ]],
Cell[5444, 155, 190, 3, 30, "Text"],
Cell[CellGroupData[{
Cell[5659, 162, 383, 9, 52, "Input"],
Cell[6045, 173, 1014, 27, 31, "Output"],
Cell[7062, 202, 1033, 28, 31, "Output"]
}, Open  ]],
Cell[8110, 233, 243, 4, 30, "Text"],
Cell[CellGroupData[{
Cell[8378, 241, 641, 14, 52, "Input"],
Cell[9022, 257, 208, 5, 31, "Output"],
Cell[9233, 264, 226, 6, 31, "Output"]
}, Open  ]],
Cell[9474, 273, 267, 4, 30, "Text"],
Cell[CellGroupData[{
Cell[9766, 281, 960, 23, 52, "Input"],
Cell[10729, 306, 523, 12, 31, "Output"],
Cell[11255, 320, 544, 13, 31, "Output"]
}, Open  ]],
Cell[11814, 336, 291, 4, 30, "Text"],
Cell[CellGroupData[{
Cell[12130, 344, 1230, 30, 52, "Input"],
Cell[13363, 376, 605, 15, 31, "Output"],
Cell[13971, 393, 624, 16, 31, "Output"]
}, Open  ]],
Cell[14610, 412, 200, 3, 30, "Text"],
Cell[CellGroupData[{
Cell[14835, 419, 383, 9, 52, "Input"],
Cell[15221, 430, 551, 12, 31, "Output"],
Cell[15775, 444, 554, 12, 31, "Output"]
}, Open  ]],
Cell[16344, 459, 200, 3, 30, "Text"],
Cell[CellGroupData[{
Cell[16569, 466, 429, 9, 52, "Input"],
Cell[17001, 477, 733, 18, 31, "Output"],
Cell[17737, 497, 731, 18, 31, "Output"]
}, Open  ]],
Cell[18483, 518, 200, 3, 30, "Text"],
Cell[CellGroupData[{
Cell[18708, 525, 433, 9, 52, "Input"],
Cell[19144, 536, 1005, 27, 31, "Output"],
Cell[20152, 565, 1026, 28, 31, "Output"]
}, Open  ]]
}, Closed]],
Cell[CellGroupData[{
Cell[21227, 599, 106, 1, 41, "Subsection"],
Cell[CellGroupData[{
Cell[21358, 604, 2458, 62, 88, "Input"],
Cell[23819, 668, 4688, 135, 70, "Output"]
}, Open  ]]
}, Closed]],
Cell[CellGroupData[{
Cell[28556, 809, 106, 1, 41, "Subsection"],
Cell[CellGroupData[{
Cell[28687, 814, 1922, 37, 107, "Input"],
Cell[30612, 853, 1381, 39, 70, "Output"]
}, Open  ]]
}, Closed]],
Cell[CellGroupData[{
Cell[32042, 898, 102, 1, 41, "Subsection"],
Cell[CellGroupData[{
Cell[32169, 903, 140, 3, 31, "Input"],
Cell[32312, 908, 5713, 167, 70, "Output"]
}, Open  ]]
}, Closed]],
Cell[CellGroupData[{
Cell[38074, 1081, 140, 2, 41, "Subsection"],
Cell[CellGroupData[{
Cell[38239, 1087, 628, 12, 30, "Input"],
Cell[38870, 1101, 1469, 43, 70, "Output"]
}, Open  ]],
Cell[CellGroupData[{
Cell[40376, 1149, 574, 11, 30, "Input"],
Cell[40953, 1162, 1292, 37, 70, "Output"]
}, Open  ]],
Cell[CellGroupData[{
Cell[42282, 1204, 446, 10, 30, "Input"],
Cell[42731, 1216, 764, 19, 70, "Output"]
}, Open  ]]
}, Closed]],
Cell[CellGroupData[{
Cell[43544, 1241, 97, 1, 41, "Subsection"],
Cell[CellGroupData[{
Cell[43666, 1246, 482, 9, 30, "Input"],
Cell[44151, 1257, 3151, 93, 70, "Output"]
}, Open  ]],
Cell[CellGroupData[{
Cell[47339, 1355, 534, 9, 30, "Input"],
Cell[47876, 1366, 2656, 78, 70, "Output"]
}, Open  ]],
Cell[CellGroupData[{
Cell[50569, 1449, 528, 9, 30, "Input"],
Cell[51100, 1460, 1365, 36, 70, "Output"]
}, Open  ]]
}, Closed]],
Cell[CellGroupData[{
Cell[52514, 1502, 112, 1, 41, "Subsection"],
Cell[CellGroupData[{
Cell[52651, 1507, 502, 10, 30, "Input"],
Cell[53156, 1519, 1649, 47, 70, "Output"]
}, Open  ]],
Cell[CellGroupData[{
Cell[54842, 1571, 540, 10, 30, "Input"],
Cell[55385, 1583, 1615, 45, 70, "Output"]
}, Open  ]],
Cell[CellGroupData[{
Cell[57037, 1633, 548, 10, 30, "Input"],
Cell[57588, 1645, 1168, 31, 70, "Output"]
}, Open  ]]
}, Closed]],
Cell[CellGroupData[{
Cell[58805, 1682, 164, 2, 41, "Subsection"],
Cell[CellGroupData[{
Cell[58994, 1688, 435, 7, 30, "Input"],
Cell[59432, 1697, 4514, 134, 70, "Output"]
}, Open  ]],
Cell[CellGroupData[{
Cell[63983, 1836, 335, 6, 30, "Input"],
Cell[64321, 1844, 3928, 116, 70, "Output"]
}, Open  ]],
Cell[CellGroupData[{
Cell[68286, 1965, 336, 6, 30, "Input"],
Cell[68625, 1973, 2274, 63, 70, "Output"]
}, Open  ]]
}, Closed]],
Cell[CellGroupData[{
Cell[70948, 2042, 134, 2, 41, "Subsection"],
Cell[71085, 2046, 216, 3, 30, "Text"],
Cell[CellGroupData[{
Cell[71326, 2053, 854, 18, 31, "Input"],
Cell[72183, 2073, 2241, 63, 31, "Output"]
}, Open  ]],
Cell[74439, 2139, 142, 2, 30, "Text"],
Cell[CellGroupData[{
Cell[74606, 2145, 637, 13, 31, "Input"],
Cell[75246, 2160, 490, 11, 46, "Output"]
}, Open  ]],
Cell[75751, 2174, 147, 2, 30, "Text"],
Cell[CellGroupData[{
Cell[75923, 2180, 377, 9, 31, "Input"],
Cell[76303, 2191, 574, 12, 31, "Output"]
}, Open  ]],
Cell[CellGroupData[{
Cell[76914, 2208, 350, 9, 31, "Input"],
Cell[77267, 2219, 733, 18, 31, "Output"]
}, Open  ]],
Cell[CellGroupData[{
Cell[78037, 2242, 320, 8, 31, "Input"],
Cell[78360, 2252, 660, 17, 31, "Output"]
}, Open  ]]
}, Closed]],
Cell[CellGroupData[{
Cell[79069, 2275, 91, 1, 41, "Subsection"],
Cell[CellGroupData[{
Cell[79185, 2280, 128, 2, 31, "Input"],
Cell[79316, 2284, 4923, 142, 74, "Output"]
}, Open  ]],
Cell[CellGroupData[{
Cell[84276, 2431, 128, 2, 31, "Input"],
Cell[84407, 2435, 4487, 130, 54, "Output"]
}, Open  ]],
Cell[CellGroupData[{
Cell[88931, 2570, 128, 2, 31, "Input"],
Cell[89062, 2574, 2720, 76, 52, "Output"]
}, Open  ]]
}, Closed]],
Cell[CellGroupData[{
Cell[91831, 2656, 384, 14, 41, "Subsection"],
Cell[92218, 2672, 1200, 31, 88, "Input"],
Cell[93421, 2705, 1227, 31, 88, "Input"],
Cell[94651, 2738, 1135, 30, 88, "Input"],
Cell[95789, 2770, 740, 18, 69, "Input"],
Cell[CellGroupData[{
Cell[96554, 2792, 147, 3, 30, "Input"],
Cell[96704, 2797, 2669, 77, 70, "Output"]
}, Open  ]]
}, Closed]],
Cell[CellGroupData[{
Cell[99422, 2880, 431, 15, 41, "Subsection"],
Cell[CellGroupData[{
Cell[99878, 2899, 672, 17, 31, "Input"],
Cell[100553, 2918, 752, 19, 31, "Output"]
}, Open  ]],
Cell[101320, 2940, 983, 22, 31, "Input"],
Cell[CellGroupData[{
Cell[102328, 2966, 189, 3, 31, "Input"],
Cell[102520, 2971, 5995, 164, 84, "Output"]
}, Open  ]]
}, Closed]],
Cell[CellGroupData[{
Cell[108564, 3141, 110, 1, 41, "Subsection"],
Cell[108677, 3144, 211, 3, 30, "Text"],
Cell[108891, 3149, 1068, 26, 31, "Input"],
Cell[109962, 3177, 138, 2, 30, "Text"],
Cell[110103, 3181, 321, 6, 31, "Input"],
Cell[CellGroupData[{
Cell[110449, 3191, 160, 3, 31, "Input"],
Cell[110612, 3196, 2236, 65, 77, "Output"]
}, Open  ]],
Cell[CellGroupData[{
Cell[112885, 3266, 2293, 52, 192, "Input"],
Cell[CellGroupData[{
Cell[115203, 3322, 457, 6, 43, "Print"],
Cell[115663, 3330, 480, 7, 43, "Print"],
Cell[116146, 3339, 464, 6, 43, "Print"],
Cell[116613, 3347, 473, 7, 43, "Print"],
Cell[117089, 3356, 433, 6, 43, "Print"],
Cell[117525, 3364, 436, 6, 43, "Print"]
}, Open  ]]
}, Open  ]],
Cell[117988, 3374, 161, 3, 30, "Text"],
Cell[118152, 3379, 379, 7, 31, "Input"],
Cell[CellGroupData[{
Cell[118556, 3390, 210, 4, 31, "Input"],
Cell[118769, 3396, 4373, 112, 84, "Output"]
}, Open  ]],
Cell[CellGroupData[{
Cell[123179, 3513, 1112, 25, 92, "Input"],
Cell[CellGroupData[{
Cell[124316, 3542, 652, 9, 100, "Print"],
Cell[124971, 3553, 741, 10, 119, "Print"],
Cell[125715, 3565, 626, 8, 81, "Print"]
}, Closed]]
}, Open  ]],
Cell[126368, 3577, 219, 3, 30, "Text"],
Cell[CellGroupData[{
Cell[126612, 3584, 717, 19, 92, "Input"],
Cell[CellGroupData[{
Cell[127354, 3607, 371, 5, 43, "Print"],
Cell[127728, 3614, 416, 6, 62, "Print"],
Cell[128147, 3622, 382, 6, 43, "Print"],
Cell[128532, 3630, 420, 6, 62, "Print"]
}, Open  ]]
}, Open  ]]
}, Closed]]
}, Open  ]]
}
]
*)

(* End of internal cache information *)
